/* Copyright (C) YOOtheme GmbH, http://www.gnu.org/licenses/gpl.html GNU/GPL */

(function(c){if(window.matchMedia){var f=function(){var f=".uk-hidden-mini .uk-visible-mini .uk-hidden-small .uk-visible-small .uk-hidden-medium .uk-visible-medium".split(" ");f.map(function(c){return c+":visible"});var l={1:"uk-width-100",2:"uk-width-50",3:"uk-width-33",4:"uk-width-25",5:"uk-width-20"};["100","50","33","25","20"].map(function(c){return".uk-width-"+c}).join(",");var j=function(c){c.className=c.className.replace(/uk-width-\d+/ig,"")};c(".uk-grid").each(function(k,m){var a=c(m).children(),
b=a.filter("[class*='uk-width-']"),a=a.length,g=[],n=a;if(a===b.length&&(b.each(function(a,b){var e=c(b),d=e.get(0).className.match(/(uk\-width\-(\d+))/i);(d=d&&d[1]?d[1]:!1)&&!e.data("oldclass")&&e.data("oldclass",d?d:null);e=c(b);if(d=e.data("oldclass"))j(e.get(0)),e.addClass(d);e.parent().show()}),b.each(function(a,b){var e=c(b);if(0<e.children().filter(f.join(",")).length&&0===e.children().filter(":visible").length)n--;else{var d=b.className.match(/(uk\-width\-(\d+))/i),e=d&&d[1]?d[1]:!1,d=d&&
d[2]?d[2]:!1;e&&g.push({el:b,clazz:e,width:parseInt(d,10)})}}),g.length)){for(var b=g.map(function(a){return a.width}),h=a=0;h<b.length;++h)a+=parseInt(b[h],10);b=a;if(!(100<b)&&100!=b)if(""===g.map(function(a){return a.width}).join("").replace(RegExp(g[0].width,"g"),"")){b=l[g.length];for(a=g.length-1;0<=a;a--)h=g[a].el,j(h),h.className+=" "+b}else b=100-Math.floor(b),a=g.map(function(a){return Math.floor(a.width)}),a=a.indexOf(Math.max.apply(Math,a)),a=g[a].el,b="uk-width-"+(Math.floor(a.className.match(/(uk\-width\-(\d+))/i)[2])+
b),j(a),a.className+=" "+b}})},j=function(c,f){window.matchMedia(c).matches&&"function"===typeof f.valid?f.valid():"function"===typeof f.invalid&&f.invalid()},k=function(){j("(max-width: 767px)",{valid:f,invalid:f});j("(min-width: 480px) and (max-width: 959px)",{valid:f});j("(min-width: 960px)",{valid:f})};c(document).ready(k);c(window).on("resize orientationchange",c.UIkit.Utils.debounce(k,100))}})(jQuery);
