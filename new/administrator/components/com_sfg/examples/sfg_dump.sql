insert into #__sfg_forms set `id` = 1,`status` = 1,`name` = 'Contact Us',`description` = 'Sample form. Allows collecting visitors'' requests from the external part of the site. Features:\n* Conditional branching. Displaying states when US is selected\n* Expanding the form when a new field is added\n* Protected with Captcha\n* Saving the time of submission',`form` = '<?xml version="1.0" encoding="UTF-8"?>\n<form name="Contact Us" ext_access="111">\n  <description>\n    Sample form. Allows collecting visitors'' requests from the external part of the site. Features:\n* Conditional branching. Displaying states when US is selected\n* Expanding the form when a new field is added\n* Protected with Captcha\n* Saving the time of submission\n  </description>\n  <database name="#__sfg_example_contact">\n    <map sfgfield="" dbfield="id" />\n    <map sfgfield="name" dbfield="name" />\n    <map sfgfield="email" dbfield="email" />\n    <map sfgfield="message" dbfield="message" />\n    <map sfgfield="file" dbfield="file" />\n    <map sfgfield="country" dbfield="country" />\n    <map sfgfield="company" dbfield="company" />\n    <map sfgfield="phone" dbfield="phone" />\n    <map sfgfield="state" dbfield="state" />\n    <map sfgfield="date_time" dbfield="submission_time" />\n  </database>\n  <globalphp>\n    /*******************************************************************/\n/* SmartFormer Gold (c) Form PHP controller                                                     */\n/*                                                                                                                  */\n/* Product of IToris Inc. (c) 2009 http://www.itoris.com                                       */\n/*                                                                                                                  */\n/*******************************************************************/\n\n$form-&gt;getPostedValues();\n\n$form-&gt;data[''date_time''] = date(''r'');\n\n$form-&gt;doAfterSubmitAction();\n\n$form-&gt;renderForm();\n\necho $form-&gt;page_html;\n  </globalphp>\n  <globaljs>\n    /*******************************************************************/\n// SmartFormer Gold (c) Form JS controller\n//\n// Product of IToris Inc. (c) 2009 http://www.itoris.com\n//\n/*******************************************************************/\n\nfunction formSubmit(submitter) {\n	//getting list of elements\n	var nodes = document.getElementById(''sfg_fieldset'').childNodes;\n	var objects = Array();\n	for (var i=0; i&lt;nodes.length; i++) if (nodes[i].tagName) objects[objects.length] = nodes[i];\n	// perform validation\n	var isFormValid = true;\n	for (var vl=0; vl&lt;sfg_validation.length; vl++) if (window[''validator''+sfg_validation[vl][1]] &amp;&amp; objects[sfg_validation[vl][0]]) {\n		var msg = window[''validator''+sfg_validation[vl][1]](objects[sfg_validation[vl][0]], sfg_validation[vl][2], sfg_validation[vl][3] ? sfg_validation[vl][3] : '''');\n		if (msg) {\n			isFormValid = false;\n			alert(msg);\n			objects[sfg_validation[vl][0]].focus();\n			return;\n		}\n	}\n	document.getElementById(''sfg_submitter'').value = submitter;\n	document.sfgForm.submit();\n}\n\nvar objs = Array();\nvar isUS = true;\n\nfunction countrySelected(obj) {\n	var stateField = document.getElementsByName(''state'')[0];\n	var stateSpan = document.getElementById(''state_span'');\n	if (obj.value.toLowerCase()==''united states'' &amp;&amp; !isUS) {\n		isUS = true;\n		stateField.style.display = ''block'';\n		stateSpan.style.display = ''block'';\n		moveElementsDown(objs, 28);\n	} else if (obj.value.toLowerCase()!=''united states'' &amp;&amp; isUS) {\n		isUS = false;\n		stateField.selectedIndex = 0;\n		objs = moveElementsUp(stateField, 28);\n		stateField.style.display = ''none'';	\n		stateSpan.style.display = ''none'';	\n	}\n}\n\nfunction onFormLoad() {\n	if (!document.getElementsByName(''country'')[0]) {\n		setTimeout(''onFormLoad()'', 20);\n		return;\n	}\n	if (document.getElementsByName(''country'')[0].value.toLowerCase()!=''united states'') {\n		countrySelected(document.getElementsByName(''country'')[0]);\n	}\n}\n\nonFormLoad();\n  </globaljs>\n  <globalhtml>\n    &lt;!-- SmartFormer Gold code part --&gt;\n\n&lt;form action="" method="post" name="sfgForm" enctype="multipart/form-data"&gt;\n&lt;%form_html%&gt;\n&lt;input type="hidden" name="date_time" /&gt;\n&lt;/form&gt;\n\n&lt;!-- End of SmartFormer Gold code part --&gt;\n  </globalhtml>\n  <globalcss>\n    #sfg_err_message {\n	font-family: Arial;\n	font-size: 12px;\n	font-weight: bold;\n	color: #ff0000;\n}\n  </globalcss>\n  <page name="Page 1" id="0" />\n  <page name="Page 2" id="1" />\n  <page name="Page 3" id="2" />\n  <page name="Page 4" id="3" />\n  <page name="Page 5" id="4" />\n  <page name="Page 6" id="5" />\n  <page name="Page 7" id="6" />\n  <page name="Page 8" id="7" />\n  <page name="Page 9" id="8" />\n  <page name="Page 10" id="9" />\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Name:\n    </content>\n    <style name="left" value="97px" />\n    <style name="top" value="60px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Name" tag="input" page="0">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="name" />\n    <style name="width" value="262px" />\n    <style name="height" value="16px" />\n    <style name="left" value="145px" />\n    <style name="top" value="58px" />\n    <event name="onblur" value="" />\n    <event name="onresize" value="" />\n    <event name="onchange" value="" />\n    <event name="onactivate" value="" />\n    <event name="onafterupdate" value="" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Email:&lt;span style="color:red"&gt;*&lt;/span&gt;\n    </content>\n    <style name="left" value="94px" />\n    <style name="top" value="88px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Email" tag="input" page="0">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="email" />\n    <style name="width" value="262px" />\n    <style name="height" value="16px" />\n    <style name="left" value="145px" />\n    <style name="top" value="86px" />\n    <param name="required" value="true" />\n    <param name="equal-to" value="" />\n    <param name="validation" value="Email" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Message:&lt;span style="color:red"&gt;*&lt;/span&gt;\n    </content>\n    <style name="left" value="72px" />\n    <style name="top" value="146px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Message" tag="textarea" page="0">\n    <attribute name="rows" value="5" />\n    <attribute name="cols" value="30" />\n    <attribute name="name" value="message" />\n    <style name="width" value="262px" />\n    <style name="height" value="80px" />\n    <style name="left" value="145px" />\n    <style name="top" value="114px" />\n    <param name="required" value="true" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Upload File:\n    </content>\n    <style name="left" value="69px" />\n    <style name="top" value="207px" />\n    <style name="font-weight" value="bold" />\n    <style name="width" value="65px" />\n  </element>\n  <element sfgalias="File" tag="input" page="0">\n    <attribute name="type" value="file" />\n    <attribute name="size" value="30" />\n    <attribute name="name" value="file" />\n    <style name="width" value="266px" />\n    <style name="height" value="21px" />\n    <style name="left" value="145px" />\n    <style name="top" value="205px" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Country:\n    </content>\n    <style name="left" value="84px" />\n    <style name="top" value="237px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Country" tag="select" page="0">\n    <content>\n      United States\nAfghanistan\nAlbania\nAlgeria\nAmerican Samoa\nAndorra\nAngola\nAnguilla\nAntarctica\nAntigua and Barbuda\nArgentina\nArmenia\nAruba\nAustralia\nAustria\nAzerbaijan\nBahamas\nBahrain\nBangladesh\nBarbados\nBelarus\nBelgium\nBelize\nBenin\nBermuda\nBhutan\nBolivia\nBosnia and Herzegovina\nBotswana\nBrazil\nBrunei\nBulgaria\nBurkina Faso\nBurundi\nCambodia\nCameroon\nCanada\nCape Verde\nCayman Islands\nCentral African Republic\nChad\nChile\nChina\nColombia\nComoros\nCongo\nCook Islands\nCosta Rica\nCote D`ivoire Ivory Coast\nCroatia Hrvatska\nCuba\nCyprus\nCzech Republic\nDenmark\nDjibouti\nDominica\nDominican Republic\nEast Timor\nEcuador\nEgypt\nEl Salvador\nEquatorial Guinea\nEritrea\nEstonia\nEthiopia\nFaroe Islands\nFiji Islands\nFinland\nFrance\nFrench Guiana\nFrench Polynesia\nFrench Southern Territories\nGabon\nGambia, The\nGeorgia\nGermany\nGhana\nGibraltar\nGreece\nGreenland\nGrenada\nGuadeloupe\nGuam\nGuatemala\nGuinea\nGuinea-Bissau\nGuyana\nHaiti\nHonduras\nHungary\nIceland\nIndia\nIndonesia\nIran\nIraq\nIreland\nIsrael\nItaly\nJamaica\nJapan\nJordan\nKazakhstan\nKenya\nKiribati\nKorea\nKorea, North\nKuwait\nKyrgyzstan\nLaos\nLatvia\nLebanon\nLesotho\nLiberia\nLibya\nLiechtenstein\nLithuania\nLuxembourg\nMacedonia\nMadagascar\nMalawi\nMalaysia\nMaldives\nMali\nMalta\nMarshall Islands\nMartinique\nMauritania\nMauritius\nMexico\nMicronesia\nMoldova\nMonaco\nMongolia\nMontserrat\nMorocco\nMozambique\nNamibia\nNauru\nNepal\nNetherlands Antilles\nNetherlands, The\nNew Caledonia\nNew Zealand\nNicaragua\nNiger\nNigeria\nNiue\nNorfolk Island\nNorthern Mariana Islands\nNorway\nOman\nPakistan\nPalau\nPanama\nPapua New Guinea\nParaguay\nPeru\nPhilippines\nPitcairn Island\nPoland\nPortugal\nPuerto Rico\nQatar\nReunion\nRomania\nRussia\nRwanda\nSaint Helena\nSaint Kitts and Nevis\nSaint Lucia\nSaint Pierre and Miquelon\nSamoa\nSan Marino\nSao Tome and Principe\nSaudi Arabia\nSenegal\nSeychelles\nSierra Leone\nSingapore\nSlovakia\nSlovenia\nSolomon Islands\nSomalia\nSouth Africa\nSpain\nSri Lanka\nSudan\nSuriname\nSwaziland\nSweden\nSwitzerland\nSyria\nTaiwan\nTajikistan\nTanzania\nThailand\nTogo\nTokelau\nTonga\nTrinidad and Tobago\nTunisia\nTurkey\nTurkmenistan\nTurks and Caicos Islands\nTuvalu\nUganda\nUkraine\nUnited Arab Emirates\nUnited Kingdom\nUruguay\nUzbekistan\nVanuatu\nVenezuela\nVietnam\nVirgin Islands British\nVirgin Islands US\nWallis and Futuna Islands\nYemen\nYugoslavia\nZambia\nZimbabwe\n    </content>\n    <attribute name="name" value="country" />\n    <style name="width" value="265px" />\n    <style name="height" value="21px" />\n    <style name="left" value="145px" />\n    <style name="top" value="236px" />\n    <event name="onchange" value="countrySelected(this)" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Company:\n    </content>\n    <style name="left" value="76px" />\n    <style name="top" value="294px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Company" tag="input" page="0">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="company" />\n    <style name="width" value="262px" />\n    <style name="height" value="16px" />\n    <style name="left" value="145px" />\n    <style name="top" value="292px" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Phone:\n    </content>\n    <style name="left" value="93px" />\n    <style name="top" value="323px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Phone" tag="input" page="0">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="phone" />\n    <style name="width" value="262px" />\n    <style name="height" value="16px" />\n    <style name="left" value="145px" />\n    <style name="top" value="321px" />\n  </element>\n  <element sfgalias="" tag="input" page="0">\n    <attribute name="type" value="button" />\n    <attribute name="value" value="Submit" />\n    <style name="width" value="60px" />\n    <style name="left" value="145px" />\n    <style name="top" value="431px" />\n    <param name="on-click-action" value="1" />\n    <param name="save-data" value="true" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Contact Us\n    </content>\n    <style name="left" value="119px" />\n    <style name="top" value="20px" />\n    <style name="border-color" value="" />\n    <style name="color" value="#0000ff" />\n    <style name="font-size" value="18px" />\n    <style name="font-weight" value="bold" />\n    <style name="width" value="115px" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      Thank You for contating us!\n    </content>\n    <style name="left" value="55px" />\n    <style name="top" value="35px" />\n    <style name="font-size" value="18px" />\n    <style name="font-style" value="" />\n    <style name="font-weight" value="bold" />\n    <style name="width" value="252px" />\n  </element>\n  <element sfgalias="" tag="select" page="0">\n    <content>\n      |-- please select --\nAlabama\nAlaska\nAmerican Samoa\nArizona\nArkansas\nCalifornia\nColorado\nConnecticut\nDelaware\nDistrict of Columbia\nFlorida\nGeorgia\nGuam\nHawaii\nIdaho\nIllinois\nIndiana\nIowa\nKansas\nKentucky\nLouisiana\nMaine\nMaryland\nMassachusetts\nMichigan\nMinnesota\nMississippi\nMissouri\nMontana\nNebraska\nNevada\nNew Hampshire\nNew Jersey\nNew Mexico\nNew York\nNorth Carolina\nNorth Dakota\nNorthern Marianas Islands\nOhio\nOklahoma\nOregon\nPennsylvania\nPuerto Rico\nRhode Island\nSouth Carolina\nSouth Dakota\nTennessee\nTexas\nUtah\nVermont\nVirginia\nVirgin Islands\nWashington\nWest Virginia\nWisconsin\nWyoming\n    </content>\n    <attribute name="name" value="state" />\n    <style name="width" value="265px" />\n    <style name="height" value="21px" />\n    <style name="left" value="145px" />\n    <style name="top" value="265px" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      State:\n    </content>\n    <attribute name="id" value="state_span" />\n    <style name="left" value="99px" />\n    <style name="top" value="267px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Protection Code:&lt;span style="color:#ff0000;"&gt;*&lt;/span&gt;\n    </content>\n    <style name="left" value="45px" />\n    <style name="top" value="350px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Please, enter the text shown in the image into the field below.\n    </content>\n    <style name="left" value="145px" />\n    <style name="top" value="371px" />\n    <style name="font-size" value="9px" />\n  </element>\n  <element sfgalias="" tag="input" page="0">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="captcha_field" />\n    <style name="width" value="180px" />\n    <style name="height" value="16px" />\n    <style name="left" value="145px" />\n    <style name="top" value="348px" />\n    <param name="required" value="true" />\n  </element>\n  <element sfgalias="" tag="img" page="0">\n    <attribute name="src" value="{captcha0}" />\n    <attribute name="alt" value="captcha code" />\n    <attribute name="name" value="captcha_image" />\n    <style name="left" value="145px" />\n    <style name="top" value="385px" />\n    <param name="captcha-type" value="0" />\n    <param name="captcha-length" value="6" />\n    <param name="captcha-symbols" value="abcsefghijklmnopqrstuvwxyz023456789" />\n    <param name="captcha-field" value="captcha_field" />\n  </element>\n  <element sfgalias="" tag="img" page="0">\n    <attribute name="src" value="{live_site}/administrator/components/com_sfg/js/images/reload.gif" />\n    <attribute name="alt" value="reload" />\n    <attribute name="title" value="Reload Captcha" />\n    <style name="left" value="300px" />\n    <style name="top" value="388px" />\n    <style name="cursor" value="pointer" />\n    <event name="onclick" value="captchaReload(this, ''captcha_image'')" />\n    <param name="on-click-action" value="4" />\n  </element>\n  <email_template name="email to user" from_name="admin of website" from_email="admin@website.com" subject="Your details on website.com" cc="" bcc="" id="1" format="1">\n    &lt;p&gt;Dear user! &lt;br /&gt;Thank you for using our services on mysite.com. &lt;br /&gt;Your details are the following:&lt;/p&gt;\n&lt;p&gt;\n&lt;table border="0"&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;strong&gt;Field name&lt;/strong&gt;&lt;/td&gt;\n&lt;td&gt;&lt;strong&gt;Data&lt;/strong&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 1&lt;/td&gt;\n&lt;td&gt;Here you should insert dynamic variable&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 2&lt;br /&gt;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 3&lt;br /&gt;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;br /&gt;&lt;em&gt;P.S. Please do not answer on this e-mail. It has been generated automatically. &lt;/em&gt;&lt;/p&gt;\n  </email_template>\n  <email_template name="email to admin" from_name="admin of website" from_email="admin@website.com" subject="New user details" cc="" bcc="" id="2" format="1">\n    &lt;p&gt;Dear admin!&lt;br /&gt; New user has left his details on mysite.som &lt;br /&gt;The details are the folowing: :&lt;/p&gt;\n&lt;p&gt;\n&lt;table border="0"&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;strong&gt;Field name&lt;/strong&gt;&lt;/td&gt;\n&lt;td&gt;&lt;strong&gt;Data&lt;/strong&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 1&lt;/td&gt;\n&lt;td&gt;Here you should insert dynamic variable&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 2&lt;br /&gt;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 3&lt;br /&gt;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/p&gt;\n  </email_template>\n  <email_template name="your custom email" from_name="From Name" from_email="from@email.com" subject="Custom email subject" cc="" bcc="" id="3" format="1">\n    &lt;p&gt;Fill in your custom email. You can create as meny templates as you wish. Click ''New Document'' icon to start&lt;/p&gt;\n  </email_template>\n  <validator name="Required">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Field is required'';\nmsg = msg.replace(''%s'', sfgName); \nif (obj.type &amp;&amp; (obj.type.toLowerCase()==''checkbox'' || obj.type.toLowerCase()==''radio'') &amp;&amp; !obj.checked) return msg; \nif (obj.tagName.toLowerCase()==''select'' &amp;&amp; (obj.selectedIndex==-1 || obj.selectedIndex==0)) return msg; \nif (obj.value=='''') return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Field is required'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (!isset($form-&gt;data[$htmlName]) || !is_array($form-&gt;data[$htmlName]) &amp;&amp; trim($form-&gt;data[$htmlName])=='''') return $msg;\nif (is_array($form-&gt;data[$htmlName]) &amp;&amp; trim(implode('''',$form-&gt;data[$htmlName]))=='''') return $msg;\n    </php>\n  </validator>\n  <validator name="Group Required">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Group: %s. Please select a value'';\nmsg = msg.replace(''%s'', sfgName); \nvar objs = document.getElementsByName(obj.name); \nvar checked = false; \nfor (i=0; i&lt;objs.length; i++) if (objs[i].checked) { checked = true; break; } \nif (!checked) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Group: ''.$obj[''sfgalias''].''. Please select a value'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (!isset($form-&gt;data[$htmlName]) || !is_array($form-&gt;data[$htmlName]) &amp;&amp; trim($form-&gt;data[$htmlName])=='''') return $msg;\nif (is_array($form-&gt;data[$htmlName]) &amp;&amp; trim(implode('''',$form-&gt;data[$htmlName]))=='''') return $msg;\n    </php>\n  </validator>\n  <validator name="Check identical">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object, obj2 - another HTML element for comparing\nvar msg = ''Field: %s. Entities are not identival'';\nmsg = msg.replace(''%s'', sfgName);\nvar el2 = document.getElementsByName(obj2)[0];\nif (el2 &amp;&amp; obj.value != el2.value) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation, $obj - another element\n$msg = ''Field: ''.$obj[''sfgalias''].''. Entities are not identival'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$htmlName2 = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $obj2);\n$htmlName2 = strtolower($htmlName2);\nif ($form-&gt;data[$htmlName]!=$form-&gt;data[$htmlName2]) return $msg;\n    </php>\n  </validator>\n  <validator name="Email">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid email. Please specify a valid value'';\nmsg = msg.replace(''%s'', sfgName);\nvar RegExp=/^((([a-z]|[0-9]|!|#|$|%|&amp;|''|\\*|\\+|\\-|\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+(\\.([a-z]|[0-9]|!|#|$|%|&amp;|''|\\*|\\+|\\-|\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+)*)@((((([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.))*([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.)[\\w]{2,4}|(((([0-9]){1,3}\\.){3}([0-9]){1,3}))|(\\[((([0-9]){1,3}\\.){3}([0-9]){1,3})\\])))$/;\nif (obj.value!='''' &amp;&amp; !RegExp.test(obj.value.toLowerCase())) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid email. Please specify a valid value'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$RegExp="/^((([a-z]|[0-9]|!|#|$|%|&amp;|''|\\*|\\+|\\-|\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+(\\.([a-z]|[0-9]|!|#|$|%|&amp;|''|\\*|\\+|\\-|\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+)*)@((((([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.))*([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.)[\\w]{2,4}|(((([0-9]){1,3}\\.){3}([0-9]){1,3}))|(\\[((([0-9]){1,3}\\.){3}([0-9]){1,3})\\])))$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($RegExp, strtolower($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="Zip">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct zip/postal'';\nmsg = msg.replace(''%s'', sfgName);\nvar letters=''qwertyuiopasdfghjklzxcvbnm -1234567890'';\nvar ps=false;\nfor(i=0;i&lt;obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))&lt;0) ps=true;\nif (ps || obj.value.length&gt;10) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct zip/postal'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$letters = ''qwertyuiopasdfghjklzxcvbnm -1234567890'';\nif (isset($form-&gt;data[$htmlName])) $value = strtolower($form-&gt;data[$htmlName]); else $value='''';\nfor($i=0; $i&lt;strlen($value); $i++) if (strpos($letters, substr($value, $i, 1))===false) return $msg;\n    </php>\n  </validator>\n  <validator name="ZipUS">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid US Zip. Please specify a valid value'';\nmsg = msg.replace(''%s'', sfgName);\nvar zipPattern1=/^(\\d{5})$/;\nvar zipPattern2=/^(\\d{5})\\-(\\d{4})$/;\nif ((obj.value.match(zipPattern1)==null)&amp;&amp;(obj.value.match(zipPattern2)==null)&amp;&amp;obj.value.length&gt;0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid US Zip. Please specify a valid value'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$zipPattern1="/^(\\d{5})$/";\n$zipPattern2="/^(\\d{5})\\-(\\d{4})$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($zipPattern1, $form-&gt;data[$htmlName]) &amp;&amp; !preg_match($zipPattern2, $form-&gt;data[$htmlName])) return $msg;\n    </php>\n  </validator>\n  <validator name="Phone">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct phone number'';\nmsg = msg.replace(''%s'', sfgName);\nvar letters=''1234567890 -.()+'';\nvar ps=false;\nfor(i=0;i&lt;obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))&lt;0) ps=true;\nif (ps || obj.value.length&gt;10) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct phone number'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$letters = ''1234567890 -.()+'';\nif (isset($form-&gt;data[$htmlName])) $value = strtolower($form-&gt;data[$htmlName]); else $value='''';\nfor($i=0; $i&lt;strlen($value); $i++) if (strpos($letters, substr($value, $i, 1))===false) return $msg;\n    </php>\n  </validator>\n  <validator name="PhoneUS">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Please, provide a phone number in format XXX-XXX-XXXX, where X is a digit.'';\nmsg = msg.replace(''%s'', sfgName);\nvar phonePattern=/^(\\d{3})\\-(\\d{3})\\-(\\d{4})$/;\nif ((obj.value.match(phonePattern)==null)&amp;&amp;obj.value.length&gt;0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Please, provide a phone number in format XXX-XXX-XXXX, where X is a digit.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$phonePattern="/^(\\d{3})\\-(\\d{3})\\-(\\d{4})$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($phonePattern, strtolower($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="Password">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. The password should contain 6 to 12 symbols'';\nmsg = msg.replace(''%s'', sfgName);\nif ((obj.value.length&lt;6 || obj.value.length&gt;12) &amp;&amp; obj.value.length!=0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. The password should contain 6 to 12 symbols'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (strlen($form-&gt;data[$htmlName])&lt;6 || strlen($form-&gt;data[$htmlName])&gt;12)) return $msg;\n    </php>\n  </validator>\n  <validator name="CreditCardNumber">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct credit card number'';\nmsg = msg.replace(''%s'', sfgName);\nvar ccPattern=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$/;\nif ((obj.value.match(ccPattern)==null)&amp;&amp;obj.value.length&gt;0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct credit card number'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$ccPattern="/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($ccPattern, strtolower($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="CreditCardCVV">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct credit card CVV'';\nmsg = msg.replace(''%s'', sfgName);\nvar letters=''1234567890'';\nvar ps=false;\nfor(i=0;i&lt;obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))&lt;0) ps=true;\nif (ps || (obj.value.length&lt;3 &amp;&amp; obj.value.length!=0) || obj.value.length&gt;4) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct credit card CVV'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (strlen($form-&gt;data[$htmlName])&lt;3 || strlen($form-&gt;data[$htmlName])&gt;4 || !is_numeric($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="Money">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify currency correctly'';\nmsg = msg.replace(''%s'', sfgName);\nvar letters=''1234567890.'';\nvar ps=false; for(i=0;i&lt;obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))&lt;0) ps=true;\nif (ps || obj.value.length&gt;10 || Math.floor(obj.value*100)/100!=obj.value-0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify currency correctly'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (floor(floatval($form-&gt;data[$htmlName])*100)/100!=floatval($form-&gt;data[$htmlName]) || !is_numeric($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="URL">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a valid URL'';\nmsg = msg.replace(''%s'', sfgName);\nvar RegExp=/^(([\\w]+:)?\\/\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&amp;?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?$/;\nif (obj.value!='''' &amp;&amp; !RegExp.test(obj.value)) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a valid URL'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$RegExp="/^(([\\w]+:)?\\/\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&amp;?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($RegExp, strtolower($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="IP">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct IP'';\nmsg = msg.replace(''%s'', sfgName);\nvar RegExp=/^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/;\nvar a=obj.value.split(''.'');\nif (obj.value!='''' &amp;&amp; !RegExp.test(obj.value) || a[0]&gt;255 || a[1]&gt;255 || a[2]&gt;255 || a[3]&gt;255) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct IP'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$RegExp="/^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/";\nif (isset($form-&gt;data[$htmlName])) $parts = explode(''.'', $form-&gt;data[$htmlName]); else $parts = array(999,999,999,999);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (!preg_match($RegExp, $form-&gt;data[$htmlName]) || intval($parts[0])&gt;255 || intval($parts[1])&gt;255 || intval($parts[2])&gt;255 || intval($parts[3])&gt;255)) return $msg;\n    </php>\n  </validator>\n  <validator name="SSN">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Please, provide a SSN in format XXX-XX-XXXX or XX-XXXXXXX, where X is a digit.'';\nmsg = msg.replace(''%s'', sfgName);\nvar ssnPattern1 = /^(\\d{3})\\-(\\d{2})\\-(\\d{4})$/;\nvar ssnPattern2 = /^(\\d{2})\\-(\\d{7})$/;\nif ((obj.value.match(ssnPattern1)==null)&amp;&amp;(obj.value.match(ssnPattern2)==null)&amp;&amp;obj.value.length&gt;0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Please, provide a SSN in format XXX-XX-XXXX or XX-XXXXXXX, where X is a digit.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$ssnPattern1="/^(\\d{3})\\-(\\d{2})\\-(\\d{4})$/";\n$ssnPattern2="/^(\\d{2})\\-(\\d{7})$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($ssnPattern1, $form-&gt;data[$htmlName]) &amp;&amp; !preg_match($ssnPattern2, $form-&gt;data[$htmlName])) return $msg;\n    </php>\n  </validator>\n  <validator name="Date">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Field value should be in MM/DD/YYYY format.'';\nmsg = msg.replace(''%s'', sfgName);\nvar a=obj.value.split(''/'');\nif (a[0]-0&gt;0 &amp;&amp; a[0]-0&lt;=12 &amp;&amp; a[1]-0&gt;0 &amp;&amp; a[1]-0&lt;=31 &amp;&amp; a[2]-0&gt;1000 &amp;&amp; a[2]-0&lt;=9999 &amp;&amp; a[3]==null ||obj.value.length==0) return null; else return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Field value should be in MM/DD/YYYY format.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName])) $parts=explode(''/'', $form-&gt;data[$htmlName]); else $parts=array(0,0,0);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (count($parts)!=3 || !checkdate(intval($parts[0]), intval($parts[1]), intval($parts[2])))) return $msg;\n    </php>\n  </validator>\n  <validator name="DateShort">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Field value should be in MM/DD/YY format'';\nmsg = msg.replace(''%s'', sfgName);\nvar a=obj.value.split(''/'');\nif (a[0]-0&gt;0 &amp;&amp; a[0]-0&lt;=12 &amp;&amp; a[1]-0&gt;0 &amp;&amp; a[1]-0&lt;=31 &amp;&amp; a[2]-0&gt;=0 &amp;&amp; a[2]-0&lt;=99 &amp;&amp; a[3]==null ||obj.value.length==0) return null; else return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Field value should be in MM/DD/YY format.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName])) $parts=explode(''/'', $form-&gt;data[$htmlName]); else $parts=array(0,0,0);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (count($parts)!=3 || !is_numeric($parts[2]) || !checkdate(intval($parts[0]), intval($parts[1]), intval($parts[2])+2000))) return $msg;\n    </php>\n  </validator>\n  <validator name="Time">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Field value should be in HH:MM format.'';\nmsg = msg.replace(''%s'', sfgName);\nvar a=obj.value.split('':'');\nif (a[0]-0&gt;=0 &amp;&amp; a[0]-0&lt;24 &amp;&amp; a[1]-0&gt;=0 &amp;&amp; a[1]-0&lt;60 &amp;&amp; a[2]==null ||obj.value.length==0) return null; else return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Field value should be in HH:MM format.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName])) $parts=explode('':'', $form-&gt;data[$htmlName]); else $parts=array(99,99);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (count($parts)!=2 || !is_numeric($parts[0]) || !is_numeric($parts[1]) || intval($parts[0])&lt;0 || intval($parts[0])&gt;23 || intval($parts[1])&lt;0 || intval($parts[1])&gt;59)) return $msg;\n    </php>\n  </validator>\n</form>\n',`params` = '';
insert into #__sfg_forms set `id` = 2,`status` = 1,`name` = 'Login Form',`description` = 'Sample Form. Alternative login form. Can be inserted into a position as module. Features:\n* login form on the first page. It opens if the user is not logged in\n* logout form on the second page. Opens if the user is logged in. Username is taken from the user''s session dynamically',`form` = '<?xml version="1.0" encoding="UTF-8"?>\n<form name="Login Form" ext_access="111">\n  <description>\n    Sample Form. Alternative login form. Can be inserted into a position as module. Features:\n* login form on the first page. It opens if the user is not logged in\n* logout form on the second page. Opens if the user is logged in. Username is taken from the user''s session dynamically\n  </description>\n  <globalphp>\n    /*******************************************************************/\n/* SmartFormer Gold (c) Form PHP controller                                                     */\n/*                                                                                                                  */\n/* Product of IToris Inc. (c) 2009 http://www.itoris.com                                       */\n/*                                                                                                                  */\n/*******************************************************************/\n\n$form-&gt;getPostedValues();\n\n$form-&gt;doAfterSubmitAction();\n\n// set minimal form margin to fit the form into a position\n$form-&gt;pageRightMargin = 5;\n$form-&gt;pageBottomMargin = 5;\n\n// check is the login form has been submitted\nif (isset($_POST[''sfg_username'']) &amp;&amp; isset($_POST[''sfg_password''])) {\n	$options = array();\n	$options[''remember''] = JRequest::getBool(''sfg_remember'', false);\n	$options[''return''] = '''';\n\n	$credentials = array();\n	$credentials[''username''] = JRequest::getVar(''sfg_username'', '''', ''method'', ''username'');\n	$credentials[''password''] = JRequest::getString(''sfg_password'', '''', ''post'', JREQUEST_ALLOWRAW);\n\n	//preform the login action\n	$error = $mainframe-&gt;login($credentials, $options);\n 	if (method_exists($error, ''getError'')) { if (@$error-&gt;getError() != '''') $form-&gt;error =@ $error-&gt;getError(); 	} else if ($error !== true &amp;&amp; $error !== false) {\n		if ($error-&gt;message != '''') $form-&gt;error = $error-&gt;message;\n 	}\n}\n\nif (isset($_POST[''sfg_task'']) &amp;&amp; $_POST[''sfg_task'']==''logout'') {\n	//preform the logout action\n	$error = $mainframe-&gt;logout();\n 	if (method_exists($error, ''getError'')) {\n 		if (@$error-&gt;getError() != '''') $form-&gt;error = @$error-&gt;getError();\n 	} else if ($error !==true &amp;&amp; $error !== false) {\n		if ($error-&gt;message != '''') $form-&gt;error = $error-&gt;message;\n 	}\n}\n\n$my =JFactory::getUser();\n\n// redirect the user to the second (log out) page if logged in\nif ($my-&gt;id != 0) $form-&gt;page = 1; else $form-&gt;page = 0;\n\n$form-&gt;renderForm();\n\necho $form-&gt;page_html;\n  </globalphp>\n  <globaljs>\n    /*******************************************************************/\n// SmartFormer Gold (c) Form JS controller\n//\n// Product of IToris Inc. (c) 2009 http://www.itoris.com\n//\n/*******************************************************************/\n\nfunction formSubmit(submitter) {\n	//getting list of elements\n	var nodes = document.getElementById(''sfg_fieldset'').childNodes;\n	var objects = Array();\n	for (var i=0; i&lt;nodes.length; i++) if (nodes[i].tagName) objects[objects.length] = nodes[i];\n	// perform validation\n	var isFormValid = true;\n	for (var vl=0; vl&lt;sfg_validation.length; vl++) if (window[''validator''+sfg_validation[vl][1]] &amp;&amp; objects[sfg_validation[vl][0]]) {\n		var msg = window[''validator''+sfg_validation[vl][1]](objects[sfg_validation[vl][0]], sfg_validation[vl][2], sfg_validation[vl][3] ? sfg_validation[vl][3] : '''');\n		if (msg) {\n			isFormValid = false;\n			alert(msg);\n			objects[sfg_validation[vl][0]].focus();\n			return;\n		}\n	}\n	document.getElementById(''sfg_submitter'').value = submitter;\n	document.sfgForm.submit();\n}\n  </globaljs>\n  <globalhtml>\n    &lt;!-- SmartFormer Gold code part --&gt;\n\n&lt;form action="" method="post" name="sfgForm" enctype="multipart/form-data"&gt;\n&lt;%form_html%&gt;\n&lt;input type="hidden" name="sfg_task" id="sfg_task" /&gt;\n&lt;/form&gt;\n\n&lt;!-- End of SmartFormer Gold code part --&gt;\n  </globalhtml>\n  <globalcss>\n    #sfg_err_message {\n	font-family: Arial;\n	font-size: 12px;\n	font-weight: bold;\n	color: #ff0000;\n}\n  </globalcss>\n  <page name="Page 1" id="0" />\n  <page name="Page 2" id="1" />\n  <page name="Page 3" id="2" />\n  <page name="Page 4" id="3" />\n  <page name="Page 5" id="4" />\n  <page name="Page 6" id="5" />\n  <page name="Page 7" id="6" />\n  <page name="Page 8" id="7" />\n  <page name="Page 9" id="8" />\n  <page name="Page 10" id="9" />\n  <element sfgalias="Username" tag="input" page="0">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="sfg_username" />\n    <attribute name="tabindex" value="1" />\n    <style name="width" value="94px" />\n    <style name="height" value="16px" />\n    <style name="left" value="32px" />\n    <style name="top" value="28px" />\n    <style name="background-color" value="#bbffff" />\n    <style name="border-width" value="1px" />\n    <style name="border-color" value="#000000" />\n    <style name="border-style" value="dotted" />\n    <event name="onkeypress" value="if (event.keyCode==13) formSubmit(this)" />\n    <param name="required" value="true" />\n    <param name="validation" value="" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Login Form:\n    </content>\n    <style name="left" value="32px" />\n    <style name="top" value="5px" />\n    <style name="font-family" value="Monotype Corsiva" />\n    <style name="font-size" value="18px" />\n    <style name="font-variant" value="" />\n    <style name="font-weight" value="bold" />\n    <style name="width" value="95px" />\n    <style name="color" value="#0044aa" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      U:\n    </content>\n    <style name="left" value="4px" />\n    <style name="top" value="27px" />\n    <style name="font-family" value="Monotype Corsiva" />\n    <style name="font-size" value="18px" />\n    <style name="font-variant" value="" />\n    <style name="font-weight" value="bold" />\n    <style name="width" value="24px" />\n    <style name="color" value="" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      P:\n    </content>\n    <style name="left" value="4px" />\n    <style name="top" value="51px" />\n    <style name="font-family" value="Monotype Corsiva" />\n    <style name="font-size" value="18px" />\n    <style name="font-variant" value="" />\n    <style name="font-weight" value="bold" />\n    <style name="width" value="21px" />\n    <style name="color" value="" />\n  </element>\n  <element sfgalias="" tag="input" page="0">\n    <attribute name="type" value="button" />\n    <attribute name="value" value="Log in" />\n    <attribute name="tabindex" value="3" />\n    <attribute name="id" value="log_button" />\n    <style name="width" value="43px" />\n    <style name="left" value="32px" />\n    <style name="top" value="77px" />\n    <style name="height" value="19px" />\n    <style name="border-width" value="1px" />\n    <style name="border-color" value="#550066" />\n    <style name="background-color" value="#110077" />\n    <style name="border-style" value="solid" />\n    <style name="font-size" value="12px" />\n    <style name="font-family" value="Arial" />\n    <style name="color" value="#ffffff" />\n    <param name="on-click-action" value="1" />\n  </element>\n  <element sfgalias="" tag="input" page="1">\n    <attribute name="type" value="button" />\n    <attribute name="value" value="Log out" />\n    <style name="width" value="52px" />\n    <style name="left" value="9px" />\n    <style name="top" value="44px" />\n    <style name="height" value="19px" />\n    <style name="border-width" value="1px" />\n    <style name="border-color" value="#550066" />\n    <style name="background-color" value="#110077" />\n    <style name="border-style" value="solid" />\n    <style name="font-size" value="12px" />\n    <style name="font-family" value="Arial" />\n    <style name="color" value="#ffffff" />\n    <event name="onmousedown" value="document.getElementById(''sfg_task'').value=''logout'';" />\n    <param name="on-click-action" value="1" />\n    <param name="after-submit" value="1" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      Welcome,\n    </content>\n    <contentphp>\n      $my =JFactory::getUser();\necho '' ''.$my-&gt;username;\n    </contentphp>\n    <style name="left" value="9px" />\n    <style name="top" value="9px" />\n    <style name="font-family" value="Monotype Corsiva" />\n    <style name="font-size" value="18px" />\n    <style name="font-variant" value="" />\n    <style name="font-weight" value="bold" />\n    <style name="width" value="153px" />\n    <style name="color" value="#0044aa" />\n  </element>\n  <element sfgalias="Password" tag="input" page="0">\n    <attribute name="type" value="password" />\n    <attribute name="name" value="sfg_password" />\n    <attribute name="tabindex" value="2" />\n    <style name="width" value="94px" />\n    <style name="height" value="16px" />\n    <style name="left" value="32px" />\n    <style name="top" value="53px" />\n    <style name="background-color" value="#bbffff" />\n    <style name="border-color" value="#000000" />\n    <style name="border-style" value="dotted" />\n    <style name="border-width" value="1px" />\n    <event name="onkeypress" value="if (event.keyCode==13) formSubmit(this)" />\n    <param name="required" value="true" />\n  </element>\n  <email_template name="email to user" from_name="admin of website" from_email="admin@website.com" subject="Your details on website.com" cc="" bcc="" id="1" format="1">\n    &lt;p&gt;Dear user! &lt;br /&gt;Thank you for using our services on mysite.com. &lt;br /&gt;Your details are the following:&lt;/p&gt;\n&lt;p&gt;\n&lt;table border="0"&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;strong&gt;Field name&lt;/strong&gt;&lt;/td&gt;\n&lt;td&gt;&lt;strong&gt;Data&lt;/strong&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 1&lt;/td&gt;\n&lt;td&gt;Here you should insert dynamic variable&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 2&lt;br /&gt;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 3&lt;br /&gt;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;br /&gt;&lt;em&gt;P.S. Please do not answer on this e-mail. It has been generated automatically. &lt;/em&gt;&lt;/p&gt;\n  </email_template>\n  <email_template name="email to admin" from_name="admin of website" from_email="admin@website.com" subject="New user details" cc="" bcc="" id="2" format="1">\n    &lt;p&gt;Dear admin!&lt;br /&gt; New user has left his details on mysite.som &lt;br /&gt;The details are the folowing: :&lt;/p&gt;\n&lt;p&gt;\n&lt;table border="0"&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;strong&gt;Field name&lt;/strong&gt;&lt;/td&gt;\n&lt;td&gt;&lt;strong&gt;Data&lt;/strong&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 1&lt;/td&gt;\n&lt;td&gt;Here you should insert dynamic variable&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 2&lt;br /&gt;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 3&lt;br /&gt;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/p&gt;\n  </email_template>\n  <email_template name="your custom email" from_name="From Name" from_email="from@email.com" subject="Custom email subject" cc="" bcc="" id="3" format="1">\n    &lt;p&gt;Fill in your custom email. You can create as meny templates as you wish. Click ''New Document'' icon to start&lt;/p&gt;\n  </email_template>\n  <validator name="Required">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Field is required'';\nmsg = msg.replace(''%s'', sfgName); \nif (obj.type &amp;&amp; (obj.type.toLowerCase()==''checkbox'' || obj.type.toLowerCase()==''radio'') &amp;&amp; !obj.checked) return msg; \nif (obj.tagName.toLowerCase()==''select'' &amp;&amp; (obj.selectedIndex==-1 || obj.selectedIndex==0)) return msg; \nif (obj.value=='''') return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Field is required'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (!isset($form-&gt;data[$htmlName]) || !is_array($form-&gt;data[$htmlName]) &amp;&amp; trim($form-&gt;data[$htmlName])=='''') return $msg;\nif (is_array($form-&gt;data[$htmlName]) &amp;&amp; trim(implode('''',$form-&gt;data[$htmlName]))=='''') return $msg;\n    </php>\n  </validator>\n  <validator name="Group Required">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Group: %s. Please select a value'';\nmsg = msg.replace(''%s'', sfgName); \nvar objs = document.getElementsByName(obj.name); \nvar checked = false; \nfor (i=0; i&lt;objs.length; i++) if (objs[i].checked) { checked = true; break; } \nif (!checked) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Group: ''.$obj[''sfgalias''].''. Please select a value'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (!isset($form-&gt;data[$htmlName]) || !is_array($form-&gt;data[$htmlName]) &amp;&amp; trim($form-&gt;data[$htmlName])=='''') return $msg;\nif (is_array($form-&gt;data[$htmlName]) &amp;&amp; trim(implode('''',$form-&gt;data[$htmlName]))=='''') return $msg;\n    </php>\n  </validator>\n  <validator name="Check identical">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object, obj2 - another HTML element for comparing\nvar msg = ''Field: %s. Entities are not identival'';\nmsg = msg.replace(''%s'', sfgName);\nvar el2 = document.getElementsByName(obj2)[0];\nif (el2 &amp;&amp; obj.value != el2.value) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation, $obj - another element\n$msg = ''Field: ''.$obj[''sfgalias''].''. Entities are not identival'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$htmlName2 = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $obj2);\n$htmlName2 = strtolower($htmlName2);\nif ($form-&gt;data[$htmlName]!=$form-&gt;data[$htmlName2]) return $msg;\n    </php>\n  </validator>\n  <validator name="Email">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid email. Please specify a valid value'';\nmsg = msg.replace(''%s'', sfgName);\nvar RegExp=/^((([a-z]|[0-9]|!|#|$|%|&amp;|''|\\*|\\+|\\-|\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+(\\.([a-z]|[0-9]|!|#|$|%|&amp;|''|\\*|\\+|\\-|\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+)*)@((((([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.))*([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.)[\\w]{2,4}|(((([0-9]){1,3}\\.){3}([0-9]){1,3}))|(\\[((([0-9]){1,3}\\.){3}([0-9]){1,3})\\])))$/;\nif (obj.value!='''' &amp;&amp; !RegExp.test(obj.value.toLowerCase())) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid email. Please specify a valid value'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$RegExp="/^((([a-z]|[0-9]|!|#|$|%|&amp;|''|\\*|\\+|\\-|\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+(\\.([a-z]|[0-9]|!|#|$|%|&amp;|''|\\*|\\+|\\-|\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+)*)@((((([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.))*([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.)[\\w]{2,4}|(((([0-9]){1,3}\\.){3}([0-9]){1,3}))|(\\[((([0-9]){1,3}\\.){3}([0-9]){1,3})\\])))$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($RegExp, strtolower($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="Zip">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct zip/postal'';\nmsg = msg.replace(''%s'', sfgName);\nvar letters=''qwertyuiopasdfghjklzxcvbnm -1234567890'';\nvar ps=false;\nfor(i=0;i&lt;obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))&lt;0) ps=true;\nif (ps || obj.value.length&gt;10) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct zip/postal'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$letters = ''qwertyuiopasdfghjklzxcvbnm -1234567890'';\nif (isset($form-&gt;data[$htmlName])) $value = strtolower($form-&gt;data[$htmlName]); else $value='''';\nfor($i=0; $i&lt;strlen($value); $i++) if (strpos($letters, substr($value, $i, 1))===false) return $msg;\n    </php>\n  </validator>\n  <validator name="ZipUS">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid US Zip. Please specify a valid value'';\nmsg = msg.replace(''%s'', sfgName);\nvar zipPattern1=/^(\\d{5})$/;\nvar zipPattern2=/^(\\d{5})\\-(\\d{4})$/;\nif ((obj.value.match(zipPattern1)==null)&amp;&amp;(obj.value.match(zipPattern2)==null)&amp;&amp;obj.value.length&gt;0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid US Zip. Please specify a valid value'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$zipPattern1="/^(\\d{5})$/";\n$zipPattern2="/^(\\d{5})\\-(\\d{4})$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($zipPattern1, $form-&gt;data[$htmlName]) &amp;&amp; !preg_match($zipPattern2, $form-&gt;data[$htmlName])) return $msg;\n    </php>\n  </validator>\n  <validator name="Phone">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct phone number'';\nmsg = msg.replace(''%s'', sfgName);\nvar letters=''1234567890 -.()+'';\nvar ps=false;\nfor(i=0;i&lt;obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))&lt;0) ps=true;\nif (ps || obj.value.length&gt;10) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct phone number'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$letters = ''1234567890 -.()+'';\nif (isset($form-&gt;data[$htmlName])) $value = strtolower($form-&gt;data[$htmlName]); else $value='''';\nfor($i=0; $i&lt;strlen($value); $i++) if (strpos($letters, substr($value, $i, 1))===false) return $msg;\n    </php>\n  </validator>\n  <validator name="PhoneUS">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Please, provide a phone number in format XXX-XXX-XXXX, where X is a digit.'';\nmsg = msg.replace(''%s'', sfgName);\nvar phonePattern=/^(\\d{3})\\-(\\d{3})\\-(\\d{4})$/;\nif ((obj.value.match(phonePattern)==null)&amp;&amp;obj.value.length&gt;0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Please, provide a phone number in format XXX-XXX-XXXX, where X is a digit.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$phonePattern="/^(\\d{3})\\-(\\d{3})\\-(\\d{4})$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($phonePattern, strtolower($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="Password">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. The password should contain 6 to 12 symbols'';\nmsg = msg.replace(''%s'', sfgName);\nif ((obj.value.length&lt;6 || obj.value.length&gt;12) &amp;&amp; obj.value.length!=0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. The password should contain 6 to 12 symbols'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (strlen($form-&gt;data[$htmlName])&lt;6 || strlen($form-&gt;data[$htmlName])&gt;12)) return $msg;\n    </php>\n  </validator>\n  <validator name="CreditCardNumber">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct credit card number'';\nmsg = msg.replace(''%s'', sfgName);\nvar ccPattern=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$/;\nif ((obj.value.match(ccPattern)==null)&amp;&amp;obj.value.length&gt;0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct credit card number'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$ccPattern="/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($ccPattern, strtolower($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="CreditCardCVV">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct credit card CVV'';\nmsg = msg.replace(''%s'', sfgName);\nvar letters=''1234567890'';\nvar ps=false;\nfor(i=0;i&lt;obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))&lt;0) ps=true;\nif (ps || (obj.value.length&lt;3 &amp;&amp; obj.value.length!=0) || obj.value.length&gt;4) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct credit card CVV'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (strlen($form-&gt;data[$htmlName])&lt;3 || strlen($form-&gt;data[$htmlName])&gt;4 || !is_numeric($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="Money">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify currency correctly'';\nmsg = msg.replace(''%s'', sfgName);\nvar letters=''1234567890.'';\nvar ps=false; for(i=0;i&lt;obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))&lt;0) ps=true;\nif (ps || obj.value.length&gt;10 || Math.floor(obj.value*100)/100!=obj.value-0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify currency correctly'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (floor(floatval($form-&gt;data[$htmlName])*100)/100!=floatval($form-&gt;data[$htmlName]) || !is_numeric($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="URL">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a valid URL'';\nmsg = msg.replace(''%s'', sfgName);\nvar RegExp=/^(([\\w]+:)?\\/\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&amp;?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?$/;\nif (obj.value!='''' &amp;&amp; !RegExp.test(obj.value)) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a valid URL'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$RegExp="/^(([\\w]+:)?\\/\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&amp;?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($RegExp, strtolower($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="IP">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct IP'';\nmsg = msg.replace(''%s'', sfgName);\nvar RegExp=/^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/;\nvar a=obj.value.split(''.'');\nif (obj.value!='''' &amp;&amp; !RegExp.test(obj.value) || a[0]&gt;255 || a[1]&gt;255 || a[2]&gt;255 || a[3]&gt;255) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct IP'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$RegExp="/^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/";\nif (isset($form-&gt;data[$htmlName])) $parts = explode(''.'', $form-&gt;data[$htmlName]); else $parts = array(999,999,999,999);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (!preg_match($RegExp, $form-&gt;data[$htmlName]) || intval($parts[0])&gt;255 || intval($parts[1])&gt;255 || intval($parts[2])&gt;255 || intval($parts[3])&gt;255)) return $msg;\n    </php>\n  </validator>\n  <validator name="SSN">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Please, provide a SSN in format XXX-XX-XXXX or XX-XXXXXXX, where X is a digit.'';\nmsg = msg.replace(''%s'', sfgName);\nvar ssnPattern1 = /^(\\d{3})\\-(\\d{2})\\-(\\d{4})$/;\nvar ssnPattern2 = /^(\\d{2})\\-(\\d{7})$/;\nif ((obj.value.match(ssnPattern1)==null)&amp;&amp;(obj.value.match(ssnPattern2)==null)&amp;&amp;obj.value.length&gt;0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Please, provide a SSN in format XXX-XX-XXXX or XX-XXXXXXX, where X is a digit.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$ssnPattern1="/^(\\d{3})\\-(\\d{2})\\-(\\d{4})$/";\n$ssnPattern2="/^(\\d{2})\\-(\\d{7})$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($ssnPattern1, $form-&gt;data[$htmlName]) &amp;&amp; !preg_match($ssnPattern2, $form-&gt;data[$htmlName])) return $msg;\n    </php>\n  </validator>\n  <validator name="Date">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Field value should be in MM/DD/YYYY format.'';\nmsg = msg.replace(''%s'', sfgName);\nvar a=obj.value.split(''/'');\nif (a[0]-0&gt;0 &amp;&amp; a[0]-0&lt;=12 &amp;&amp; a[1]-0&gt;0 &amp;&amp; a[1]-0&lt;=31 &amp;&amp; a[2]-0&gt;1000 &amp;&amp; a[2]-0&lt;=9999 &amp;&amp; a[3]==null ||obj.value.length==0) return null; else return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Field value should be in MM/DD/YYYY format.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName])) $parts=explode(''/'', $form-&gt;data[$htmlName]); else $parts=array(0,0,0);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (count($parts)!=3 || !checkdate(intval($parts[0]), intval($parts[1]), intval($parts[2])))) return $msg;\n    </php>\n  </validator>\n  <validator name="DateShort">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Field value should be in MM/DD/YY format'';\nmsg = msg.replace(''%s'', sfgName);\nvar a=obj.value.split(''/'');\nif (a[0]-0&gt;0 &amp;&amp; a[0]-0&lt;=12 &amp;&amp; a[1]-0&gt;0 &amp;&amp; a[1]-0&lt;=31 &amp;&amp; a[2]-0&gt;=0 &amp;&amp; a[2]-0&lt;=99 &amp;&amp; a[3]==null ||obj.value.length==0) return null; else return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Field value should be in MM/DD/YY format.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName])) $parts=explode(''/'', $form-&gt;data[$htmlName]); else $parts=array(0,0,0);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (count($parts)!=3 || !is_numeric($parts[2]) || !checkdate(intval($parts[0]), intval($parts[1]), intval($parts[2])+2000))) return $msg;\n    </php>\n  </validator>\n  <validator name="Time">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Field value should be in HH:MM format.'';\nmsg = msg.replace(''%s'', sfgName);\nvar a=obj.value.split('':'');\nif (a[0]-0&gt;=0 &amp;&amp; a[0]-0&lt;24 &amp;&amp; a[1]-0&gt;=0 &amp;&amp; a[1]-0&lt;60 &amp;&amp; a[2]==null ||obj.value.length==0) return null; else return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Field value should be in HH:MM format.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName])) $parts=explode('':'', $form-&gt;data[$htmlName]); else $parts=array(99,99);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (count($parts)!=2 || !is_numeric($parts[0]) || !is_numeric($parts[1]) || intval($parts[0])&lt;0 || intval($parts[0])&gt;23 || intval($parts[1])&lt;0 || intval($parts[1])&gt;59)) return $msg;\n    </php>\n  </validator>\n</form>\n',`params` = '';
insert into #__sfg_forms set `id` = 3,`status` = 1,`name` = 'Registration Form',`description` = 'Sample form. Alternative Joomla registration form. Allows adding extra fields to the standard registration process. Features:\n* User can fill in personal info along with profile info\n* Captcha protection\n* Saving the time of submission\n* Auto hiding text in ''About you'' field (shown as an example of using ''onfocus'' and ''onblur'' browser''s events)',`form` = '<?xml version="1.0" encoding="UTF-8"?>\n<form name="Registration Form" ext_access="11">\n  <description>\n    Sample form. Alternative Joomla registration form. Allows adding extra fields to the standard registration process. Features:\n* User can fill in personal info along with profile info\n* Captcha protection\n* Saving the time of submission\n* Auto hiding text in ''About you'' field (shown as an example of using ''onfocus'' and ''onblur'' browser''s events)\n  </description>\n  <database name="#__sfg_example_registration">\n    <map sfgfield="" dbfield="id" />\n    <map sfgfield="name" dbfield="name" />\n    <map sfgfield="username" dbfield="username" />\n    <map sfgfield="email" dbfield="email" />\n    <map sfgfield="password" dbfield="password" />\n    <map sfgfield="gender" dbfield="gender" />\n    <map sfgfield="date_field" dbfield="date_field" />\n    <map sfgfield="from" dbfield="from" />\n    <map sfgfield="postal" dbfield="postal" />\n    <map sfgfield="about" dbfield="about" />\n    <map sfgfield="date_time" dbfield="register_time" />\n  </database>\n  <globalphp>\n    /*******************************************************************/\n/* SmartFormer Gold (c) Form PHP controller                                                     */\n/*                                                                                                                  */\n/* Product of IToris Inc. (c) 2009 http://www.itoris.com                                       */\n/*                                                                                                                  */\n/*******************************************************************/\n\n$form-&gt;getPostedValues();\n$form-&gt;data[''date_time''] = date(''r'');\n\nif (isset($_POST[''username'']) &amp;&amp; $form-&gt;error=='''') {\n	\n	$database=JFactory::getDBO();\n	$database-&gt;setQuery(''select `id` from #__users where `username`=''.$database-&gt;Quote($form-&gt;data[''username'']).'' or `email`=''.$database-&gt;Quote($form-&gt;data[''email'']));\n	$id = intval($database-&gt;loadResult());\n	if ($id&gt;0) {\n		$form-&gt;error = ''The username or email already exist in the system'';\n		$form-&gt;page=0;\n	} else {\n		$form-&gt;doAfterSubmitAction();\n		if ($form-&gt;error=='''') {			\n			$id = registerUser($form-&gt;data[''username''], $form-&gt;data[''name''], $form-&gt;data[''email''], $form-&gt;data[''password'']);\n			if ($id&gt;0) {\n				$form-&gt;error = ''New account has been created'';\n			} else {\n				$form-&gt;error = ''Error occured during creating account'';\n				$form-&gt;page=0;	\n			}\n		}\n	}\n}\n\n$form-&gt;renderForm();\n\n$usersConfig = &amp;JComponentHelper::getParams( ''com_users'' ); \nif ($usersConfig-&gt;get(''allowUserRegistration'') == ''0'') $form-&gt;page_html = ''Registration is not allowed on this site'';\n\necho $form-&gt;page_html;\n\nfunction registerUser($uname, $name, $email, $password) {\n	$database =JFactory::getDBO();\n	$prefix = $database-&gt;getPrefix();\n	$tables = $database-&gt;getTableList();\n	if (in_array($prefix.''user_usergroup_map'', $tables)) {\n		$database-&gt;setQuery(''show columns from ''.$prefix.''user_usergroup_map'');\n		$columns = implode(''|'', $database-&gt;loadAssocList());\n		$has_usertype = strpos($columns, ''usertype'');		\n		$query=''insert into #__users set password="''.md5($password).''", ''.($has_usertype ? ''block=0, usertype="Registered",'' : '''').'' registerDate=now() '';\n		if (isset( $name)) $query.='', name="''.addslashes($name).''"'';\n		if (isset($email)) $query.='', username="''.addslashes($uname).''", email="''.addslashes($email).''"'';\n		$database-&gt;setQuery($query);\n		$database-&gt;query();\n		$database-&gt;setQuery(''select max(`id`) from #__users where `username`="''.addslashes($uname).''"'');\n		$id = intval($database-&gt;loadResult());\n		$database-&gt;setQuery(''insert into #__user_usergroup_map set `user_id`=''.$id.'', `group_id`=2'');\n		$database-&gt;query();\n	} else {\n		$query=''insert into #__users set password="''.md5($password).''", block=0, usertype="Registered", registerDate=now(), gid=18 '';\n		if (isset( $name)) $query.='', name="''.addslashes($name).''"'';\n		if (isset($email)) $query.='', username="''.addslashes($uname).''", email="''.addslashes($email).''"'';\n		$database-&gt;setQuery($query);\n		$database-&gt;query();\n		$database-&gt;setQuery(''select max(`id`) from #__users where `username`="''.addslashes($uname).''"'');\n		$id = intval($database-&gt;loadResult());\n		$database-&gt;setQuery( ''insert into #__core_acl_aro set section_value="users", name="''.addslashes($name).''", value=''.$id );\n		$database-&gt;query();\n		$database-&gt;setQuery( ''select max(id) as mx from #__core_acl_aro'' );\n		$aro_id = intval($database-&gt;loadResult());\n		$database-&gt;setQuery( ''insert into #__core_acl_groups_aro_map set group_id=18, aro_id=''.$aro_id );\n		$database-&gt;query();\n	}\n	return $id;\n}\n  </globalphp>\n  <globaljs>\n    /*******************************************************************/\n// SmartFormer Gold (c) Form JS controller\n//\n// Product of IToris Inc. (c) 2009 http://www.itoris.com\n//\n/*******************************************************************/\n\nfunction formSubmit(submitter) {\n	//getting list of elements\n	var nodes = document.getElementById(''sfg_fieldset'').childNodes;\n	var objects = Array();\n	for (var i=0; i&lt;nodes.length; i++) if (nodes[i].tagName) objects[objects.length] = nodes[i];\n	// perform validation\n	var isFormValid = true;\n	for (var vl=0; vl&lt;sfg_validation.length; vl++) if (window[''validator''+sfg_validation[vl][1]] &amp;&amp; objects[sfg_validation[vl][0]]) {\n		var msg = window[''validator''+sfg_validation[vl][1]](objects[sfg_validation[vl][0]], sfg_validation[vl][2], sfg_validation[vl][3] ? sfg_validation[vl][3] : '''');\n		if (msg) {\n			isFormValid = false;\n			alert(msg);\n			objects[sfg_validation[vl][0]].focus();\n			return;\n		}\n	}\n	document.getElementById(''sfg_submitter'').value = submitter;\n	document.sfgForm.submit();\n}\n  </globaljs>\n  <globalhtml>\n    &lt;!-- SmartFormer Gold code part --&gt;\n\n&lt;form action="" method="post" name="sfgForm" enctype="multipart/form-data"&gt;\n&lt;%form_html%&gt;\n&lt;input type="hidden" name="date_time" /&gt;\n&lt;/form&gt;\n\n&lt;!-- End of SmartFormer Gold code part --&gt;\n  </globalhtml>\n  <globalcss>\n    #sfg_err_message {\n	font-family: Arial;\n	font-size: 12px;\n	font-weight: bold;\n	color: #ff0000;\n}\n  </globalcss>\n  <page name="Page 1" id="0" />\n  <page name="Page 2" id="1" />\n  <page name="Page 3" id="2" />\n  <page name="Page 4" id="3" />\n  <page name="Page 5" id="4" />\n  <page name="Page 6" id="5" />\n  <page name="Page 7" id="6" />\n  <page name="Page 8" id="7" />\n  <page name="Page 9" id="8" />\n  <page name="Page 10" id="9" />\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Name:&lt;span style="color:red"&gt;*&lt;/span&gt;\n    </content>\n    <style name="left" value="43px" />\n    <style name="top" value="49px" />\n    <style name="font-weight" value="bold" />\n    <style name="z-index" value="2" />\n  </element>\n  <element sfgalias="Name" tag="input" page="0">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="name" />\n    <style name="width" value="180px" />\n    <style name="height" value="16px" />\n    <style name="left" value="118px" />\n    <style name="top" value="47px" />\n    <style name="z-index" value="2" />\n    <param name="required" value="true" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Username:&lt;span style="color:red"&gt;*&lt;/span&gt;\n    </content>\n    <attribute name="id" value="" />\n    <style name="left" value="43px" />\n    <style name="top" value="75px" />\n    <style name="font-weight" value="bold" />\n    <style name="z-index" value="2" />\n  </element>\n  <element sfgalias="Username" tag="input" page="0">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="username" />\n    <style name="width" value="180px" />\n    <style name="height" value="16px" />\n    <style name="left" value="118px" />\n    <style name="top" value="73px" />\n    <style name="z-index" value="2" />\n    <param name="required" value="true" />\n    <param name="validation" value="" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      &amp;nbsp;\n    </content>\n    <style name="left" value="24px" />\n    <style name="top" value="10px" />\n    <style name="width" value="295px" />\n    <style name="height" value="175px" />\n    <style name="border-style" value="dotted" />\n    <style name="border-width" value="1px" />\n    <style name="border-color" value="#0000ff" />\n    <style name="background-color" value="" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Email:&lt;span style="color:red"&gt;*&lt;/span&gt;\n    </content>\n    <attribute name="id" value="" />\n    <style name="left" value="43px" />\n    <style name="top" value="101px" />\n    <style name="font-weight" value="bold" />\n    <style name="z-index" value="2" />\n  </element>\n  <element sfgalias="Email" tag="input" page="0">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="email" />\n    <style name="width" value="180px" />\n    <style name="height" value="16px" />\n    <style name="left" value="118px" />\n    <style name="top" value="99px" />\n    <style name="z-index" value="2" />\n    <param name="required" value="true" />\n    <param name="validation" value="Email" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Password:&lt;span style="color:red"&gt;*&lt;/span&gt;\n    </content>\n    <style name="left" value="43px" />\n    <style name="top" value="128px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Password" tag="input" page="0">\n    <attribute name="type" value="password" />\n    <attribute name="name" value="password" />\n    <style name="width" value="180px" />\n    <style name="height" value="16px" />\n    <style name="left" value="118px" />\n    <style name="top" value="126px" />\n    <style name="zoom" value="" />\n    <style name="z-index" value="2" />\n    <param name="required" value="true" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Confirm:&lt;span style="color:red"&gt;*&lt;/span&gt;\n    </content>\n    <style name="left" value="43px" />\n    <style name="top" value="154px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Confirm Password" tag="input" page="0">\n    <attribute name="type" value="password" />\n    <attribute name="name" value="password2" />\n    <style name="width" value="180px" />\n    <style name="height" value="16px" />\n    <style name="left" value="118px" />\n    <style name="top" value="152px" />\n    <style name="z-index" value="2" />\n    <param name="required" value="true" />\n    <param name="equal-to" value="password" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      &amp;nbsp;\n    </content>\n    <style name="left" value="24px" />\n    <style name="top" value="199px" />\n    <style name="width" value="295px" />\n    <style name="height" value="234px" />\n    <style name="border-style" value="dotted" />\n    <style name="border-width" value="1px" />\n    <style name="border-color" value="#0000ff" />\n    <style name="background-color" value="" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Gender\n    </content>\n    <style name="left" value="43px" />\n    <style name="top" value="235px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Male\n    </content>\n    <style name="left" value="141px" />\n    <style name="top" value="236px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Female\n    </content>\n    <style name="left" value="202px" />\n    <style name="top" value="236px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Gender" tag="input" page="0">\n    <attribute name="type" value="radio" />\n    <attribute name="name" value="gender" />\n    <attribute name="value" value="Male" />\n    <attribute name="checked" value="true" />\n    <style name="left" value="118px" />\n    <style name="top" value="233px" />\n  </element>\n  <element sfgalias="Gender" tag="input" page="0">\n    <attribute name="type" value="radio" />\n    <attribute name="value" value="Female" />\n    <attribute name="name" value="gender" />\n    <style name="left" value="179px" />\n    <style name="top" value="233px" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      &lt;b&gt;Profile Information&lt;/b&gt;\n    </content>\n    <style name="left" value="101px" />\n    <style name="top" value="20px" />\n    <style name="font-size" value="16px" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      &lt;b&gt;Personal Information&lt;/b&gt;\n    </content>\n    <style name="left" value="92px" />\n    <style name="top" value="209px" />\n    <style name="font-size" value="16px" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Birth Date:\n    </content>\n    <style name="left" value="43px" />\n    <style name="top" value="262px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="input" page="0">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="date_field" />\n    <style name="width" value="100px" />\n    <style name="height" value="16px" />\n    <style name="left" value="118px" />\n    <style name="top" value="259px" />\n  </element>\n  <element sfgalias="" tag="img" page="0">\n    <attribute name="src" value="http://joomla3/administrator/components/com_sfg/js/images/icon-date.gif" />\n    <attribute name="alt" value="date selector" />\n    <style name="left" value="228px" />\n    <style name="top" value="260px" />\n    <style name="width" value="16px" />\n    <style name="height" value="16px" />\n    <style name="cursor" value="pointer" />\n    <param name="on-click-action" value="2" />\n    <param name="date-input-field" value="date_field" />\n    <param name="date-format" value="mm/dd/y" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      From:\n    </content>\n    <style name="left" value="43px" />\n    <style name="top" value="288px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="input" page="0">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="from" />\n    <style name="width" value="179px" />\n    <style name="height" value="16px" />\n    <style name="left" value="118px" />\n    <style name="top" value="285px" />\n  </element>\n  <element sfgalias="" tag="input" page="0">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="postal" />\n    <style name="width" value="150px" />\n    <style name="height" value="16px" />\n    <style name="left" value="118px" />\n    <style name="top" value="312px" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Postal Code:\n    </content>\n    <style name="left" value="43px" />\n    <style name="top" value="315px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      About you:\n    </content>\n    <style name="left" value="43px" />\n    <style name="top" value="370px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="textarea" page="0">\n    <content>\n      Type some words about you\n    </content>\n    <attribute name="rows" value="5" />\n    <attribute name="cols" value="30" />\n    <attribute name="name" value="about" />\n    <style name="width" value="180px" />\n    <style name="height" value="80px" />\n    <style name="left" value="118px" />\n    <style name="top" value="339px" />\n    <event name="onfocus" value="if (this.value==''Type some words about you'') this.value='''';" />\n    <event name="onblur" value="if (this.value=='''') this.value=''Type some words about you'';" />\n  </element>\n  <element sfgalias="" tag="input" page="0">\n    <attribute name="type" value="button" />\n    <attribute name="value" value="Register" />\n    <style name="width" value="60px" />\n    <style name="left" value="261px" />\n    <style name="top" value="602px" />\n    <param name="on-click-action" value="1" />\n    <param name="save-data" value="true" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      &amp;nbsp;\n    </content>\n    <style name="left" value="24px" />\n    <style name="top" value="447px" />\n    <style name="width" value="295px" />\n    <style name="height" value="141px" />\n    <style name="border-style" value="dotted" />\n    <style name="border-width" value="1px" />\n    <style name="border-color" value="#0000ff" />\n    <style name="background-color" value="" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      &lt;b&gt;Verification&lt;/b&gt;\n    </content>\n    <style name="left" value="118px" />\n    <style name="top" value="459px" />\n    <style name="font-size" value="16px" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Protection Code:&lt;span style="color:#ff0000;"&gt;*&lt;/span&gt;\n    </content>\n    <style name="left" value="38px" />\n    <style name="top" value="485px" />\n    <style name="font-weight" value="bold" />\n    <style name="width" value="61px" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Please, enter the text shown in the image into the field below.\n    </content>\n    <style name="left" value="118px" />\n    <style name="top" value="508px" />\n    <style name="font-size" value="9px" />\n    <style name="width" value="181px" />\n  </element>\n  <element sfgalias="" tag="input" page="0">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="captcha_field" />\n    <style name="width" value="180px" />\n    <style name="height" value="16px" />\n    <style name="left" value="118px" />\n    <style name="top" value="485px" />\n    <param name="required" value="true" />\n  </element>\n  <element sfgalias="" tag="img" page="0">\n    <attribute name="src" value="{captcha0}" />\n    <attribute name="alt" value="captcha code" />\n    <attribute name="name" value="captcha_image" />\n    <style name="left" value="118px" />\n    <style name="top" value="536px" />\n    <param name="captcha-type" value="0" />\n    <param name="captcha-length" value="6" />\n    <param name="captcha-symbols" value="abcsefghijklmnopqrstuvwxyz023456789" />\n    <param name="captcha-field" value="captcha_field" />\n  </element>\n  <element sfgalias="" tag="img" page="0">\n    <attribute name="src" value="http://joomla3/administrator/components/com_sfg/js/images/reload.gif" />\n    <attribute name="alt" value="reload" />\n    <attribute name="title" value="Reload Captcha" />\n    <style name="left" value="276px" />\n    <style name="top" value="536px" />\n    <style name="cursor" value="pointer" />\n    <event name="onclick" value="captchaReload(this, ''captcha_image'')" />\n    <param name="on-click-action" value="4" />\n  </element>\n  <email_template name="email to user" from_name="admin of website" from_email="admin@website.com" subject="Your details on website.com" cc="" bcc="" id="1" format="1">\n    &lt;p&gt;Dear user! &lt;br /&gt;Thank you for using our services on mysite.com. &lt;br /&gt;Your details are the following:&lt;/p&gt;\n&lt;p&gt;\n&lt;table border="0"&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;strong&gt;Field name&lt;/strong&gt;&lt;/td&gt;\n&lt;td&gt;&lt;strong&gt;Data&lt;/strong&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 1&lt;/td&gt;\n&lt;td&gt;Here you should insert dynamic variable&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 2&lt;br /&gt;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 3&lt;br /&gt;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;br /&gt;&lt;em&gt;P.S. Please do not answer on this e-mail. It has been generated automatically. &lt;/em&gt;&lt;/p&gt;\n  </email_template>\n  <email_template name="email to admin" from_name="admin of website" from_email="admin@website.com" subject="New user details" cc="" bcc="" id="2" format="1">\n    &lt;p&gt;Dear admin!&lt;br /&gt; New user has left his details on mysite.som &lt;br /&gt;The details are the folowing: :&lt;/p&gt;\n&lt;p&gt;\n&lt;table border="0"&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;strong&gt;Field name&lt;/strong&gt;&lt;/td&gt;\n&lt;td&gt;&lt;strong&gt;Data&lt;/strong&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 1&lt;/td&gt;\n&lt;td&gt;Here you should insert dynamic variable&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 2&lt;br /&gt;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 3&lt;br /&gt;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/p&gt;\n  </email_template>\n  <email_template name="your custom email" from_name="From Name" from_email="from@email.com" subject="Custom email subject" cc="" bcc="" id="3" format="1">\n    &lt;p&gt;Fill in your custom email. You can create as meny templates as you wish. Click ''New Document'' icon to start&lt;/p&gt;\n  </email_template>\n  <validator name="Required">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Field is required'';\nmsg = msg.replace(''%s'', sfgName); \nif (obj.type &amp;&amp; (obj.type.toLowerCase()==''checkbox'' || obj.type.toLowerCase()==''radio'') &amp;&amp; !obj.checked) return msg; \nif (obj.tagName.toLowerCase()==''select'' &amp;&amp; (obj.selectedIndex==-1 || obj.selectedIndex==0)) return msg; \nif (obj.value=='''') return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Field is required'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (!isset($form-&gt;data[$htmlName]) || !is_array($form-&gt;data[$htmlName]) &amp;&amp; trim($form-&gt;data[$htmlName])=='''') return $msg;\nif (is_array($form-&gt;data[$htmlName]) &amp;&amp; trim(implode('''',$form-&gt;data[$htmlName]))=='''') return $msg;\n    </php>\n  </validator>\n  <validator name="Group Required">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Group: %s. Please select a value'';\nmsg = msg.replace(''%s'', sfgName); \nvar objs = document.getElementsByName(obj.name); \nvar checked = false; \nfor (i=0; i&lt;objs.length; i++) if (objs[i].checked) { checked = true; break; } \nif (!checked) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Group: ''.$obj[''sfgalias''].''. Please select a value'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (!isset($form-&gt;data[$htmlName]) || !is_array($form-&gt;data[$htmlName]) &amp;&amp; trim($form-&gt;data[$htmlName])=='''') return $msg;\nif (is_array($form-&gt;data[$htmlName]) &amp;&amp; trim(implode('''',$form-&gt;data[$htmlName]))=='''') return $msg;\n    </php>\n  </validator>\n  <validator name="Check identical">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object, obj2 - another HTML element for comparing\nvar msg = ''Field: %s. Entities are not identival'';\nmsg = msg.replace(''%s'', sfgName);\nvar el2 = document.getElementsByName(obj2)[0];\nif (el2 &amp;&amp; obj.value != el2.value) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation, $obj - another element\n$msg = ''Field: ''.$obj[''sfgalias''].''. Entities are not identival'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$htmlName2 = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $obj2);\n$htmlName2 = strtolower($htmlName2);\nif ($form-&gt;data[$htmlName]!=$form-&gt;data[$htmlName2]) return $msg;\n    </php>\n  </validator>\n  <validator name="Email">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid email. Please specify a valid value'';\nmsg = msg.replace(''%s'', sfgName);\nvar RegExp=/^((([a-z]|[0-9]|!|#|$|%|&amp;|''|\\*|\\+|\\-|\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+(\\.([a-z]|[0-9]|!|#|$|%|&amp;|''|\\*|\\+|\\-|\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+)*)@((((([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.))*([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.)[\\w]{2,4}|(((([0-9]){1,3}\\.){3}([0-9]){1,3}))|(\\[((([0-9]){1,3}\\.){3}([0-9]){1,3})\\])))$/;\nif (obj.value!='''' &amp;&amp; !RegExp.test(obj.value.toLowerCase())) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid email. Please specify a valid value'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$RegExp="/^((([a-z]|[0-9]|!|#|$|%|&amp;|''|\\*|\\+|\\-|\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+(\\.([a-z]|[0-9]|!|#|$|%|&amp;|''|\\*|\\+|\\-|\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+)*)@((((([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.))*([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.)[\\w]{2,4}|(((([0-9]){1,3}\\.){3}([0-9]){1,3}))|(\\[((([0-9]){1,3}\\.){3}([0-9]){1,3})\\])))$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($RegExp, strtolower($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="Zip">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct zip/postal'';\nmsg = msg.replace(''%s'', sfgName);\nvar letters=''qwertyuiopasdfghjklzxcvbnm -1234567890'';\nvar ps=false;\nfor(i=0;i&lt;obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))&lt;0) ps=true;\nif (ps || obj.value.length&gt;10) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct zip/postal'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$letters = ''qwertyuiopasdfghjklzxcvbnm -1234567890'';\nif (isset($form-&gt;data[$htmlName])) $value = strtolower($form-&gt;data[$htmlName]); else $value='''';\nfor($i=0; $i&lt;strlen($value); $i++) if (strpos($letters, substr($value, $i, 1))===false) return $msg;\n    </php>\n  </validator>\n  <validator name="ZipUS">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid US Zip. Please specify a valid value'';\nmsg = msg.replace(''%s'', sfgName);\nvar zipPattern1=/^(\\d{5})$/;\nvar zipPattern2=/^(\\d{5})\\-(\\d{4})$/;\nif ((obj.value.match(zipPattern1)==null)&amp;&amp;(obj.value.match(zipPattern2)==null)&amp;&amp;obj.value.length&gt;0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid US Zip. Please specify a valid value'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$zipPattern1="/^(\\d{5})$/";\n$zipPattern2="/^(\\d{5})\\-(\\d{4})$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($zipPattern1, $form-&gt;data[$htmlName]) &amp;&amp; !preg_match($zipPattern2, $form-&gt;data[$htmlName])) return $msg;\n    </php>\n  </validator>\n  <validator name="Phone">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct phone number'';\nmsg = msg.replace(''%s'', sfgName);\nvar letters=''1234567890 -.()+'';\nvar ps=false;\nfor(i=0;i&lt;obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))&lt;0) ps=true;\nif (ps || obj.value.length&gt;10) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct phone number'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$letters = ''1234567890 -.()+'';\nif (isset($form-&gt;data[$htmlName])) $value = strtolower($form-&gt;data[$htmlName]); else $value='''';\nfor($i=0; $i&lt;strlen($value); $i++) if (strpos($letters, substr($value, $i, 1))===false) return $msg;\n    </php>\n  </validator>\n  <validator name="PhoneUS">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Please, provide a phone number in format XXX-XXX-XXXX, where X is a digit.'';\nmsg = msg.replace(''%s'', sfgName);\nvar phonePattern=/^(\\d{3})\\-(\\d{3})\\-(\\d{4})$/;\nif ((obj.value.match(phonePattern)==null)&amp;&amp;obj.value.length&gt;0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Please, provide a phone number in format XXX-XXX-XXXX, where X is a digit.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$phonePattern="/^(\\d{3})\\-(\\d{3})\\-(\\d{4})$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($phonePattern, strtolower($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="Password">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. The password should contain 6 to 12 symbols'';\nmsg = msg.replace(''%s'', sfgName);\nif ((obj.value.length&lt;6 || obj.value.length&gt;12) &amp;&amp; obj.value.length!=0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. The password should contain 6 to 12 symbols'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (strlen($form-&gt;data[$htmlName])&lt;6 || strlen($form-&gt;data[$htmlName])&gt;12)) return $msg;\n    </php>\n  </validator>\n  <validator name="CreditCardNumber">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct credit card number'';\nmsg = msg.replace(''%s'', sfgName);\nvar ccPattern=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$/;\nif ((obj.value.match(ccPattern)==null)&amp;&amp;obj.value.length&gt;0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct credit card number'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$ccPattern="/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($ccPattern, strtolower($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="CreditCardCVV">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct credit card CVV'';\nmsg = msg.replace(''%s'', sfgName);\nvar letters=''1234567890'';\nvar ps=false;\nfor(i=0;i&lt;obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))&lt;0) ps=true;\nif (ps || (obj.value.length&lt;3 &amp;&amp; obj.value.length!=0) || obj.value.length&gt;4) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct credit card CVV'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (strlen($form-&gt;data[$htmlName])&lt;3 || strlen($form-&gt;data[$htmlName])&gt;4 || !is_numeric($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="Money">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify currency correctly'';\nmsg = msg.replace(''%s'', sfgName);\nvar letters=''1234567890.'';\nvar ps=false; for(i=0;i&lt;obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))&lt;0) ps=true;\nif (ps || obj.value.length&gt;10 || Math.floor(obj.value*100)/100!=obj.value-0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify currency correctly'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (floor(floatval($form-&gt;data[$htmlName])*100)/100!=floatval($form-&gt;data[$htmlName]) || !is_numeric($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="URL">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a valid URL'';\nmsg = msg.replace(''%s'', sfgName);\nvar RegExp=/^(([\\w]+:)?\\/\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&amp;?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?$/;\nif (obj.value!='''' &amp;&amp; !RegExp.test(obj.value)) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a valid URL'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$RegExp="/^(([\\w]+:)?\\/\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&amp;?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($RegExp, strtolower($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="IP">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct IP'';\nmsg = msg.replace(''%s'', sfgName);\nvar RegExp=/^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/;\nvar a=obj.value.split(''.'');\nif (obj.value!='''' &amp;&amp; !RegExp.test(obj.value) || a[0]&gt;255 || a[1]&gt;255 || a[2]&gt;255 || a[3]&gt;255) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct IP'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$RegExp="/^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/";\nif (isset($form-&gt;data[$htmlName])) $parts = explode(''.'', $form-&gt;data[$htmlName]); else $parts = array(999,999,999,999);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (!preg_match($RegExp, $form-&gt;data[$htmlName]) || intval($parts[0])&gt;255 || intval($parts[1])&gt;255 || intval($parts[2])&gt;255 || intval($parts[3])&gt;255)) return $msg;\n    </php>\n  </validator>\n  <validator name="SSN">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Please, provide a SSN in format XXX-XX-XXXX or XX-XXXXXXX, where X is a digit.'';\nmsg = msg.replace(''%s'', sfgName);\nvar ssnPattern1 = /^(\\d{3})\\-(\\d{2})\\-(\\d{4})$/;\nvar ssnPattern2 = /^(\\d{2})\\-(\\d{7})$/;\nif ((obj.value.match(ssnPattern1)==null)&amp;&amp;(obj.value.match(ssnPattern2)==null)&amp;&amp;obj.value.length&gt;0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Please, provide a SSN in format XXX-XX-XXXX or XX-XXXXXXX, where X is a digit.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$ssnPattern1="/^(\\d{3})\\-(\\d{2})\\-(\\d{4})$/";\n$ssnPattern2="/^(\\d{2})\\-(\\d{7})$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($ssnPattern1, $form-&gt;data[$htmlName]) &amp;&amp; !preg_match($ssnPattern2, $form-&gt;data[$htmlName])) return $msg;\n    </php>\n  </validator>\n  <validator name="Date">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Field value should be in MM/DD/YYYY format.'';\nmsg = msg.replace(''%s'', sfgName);\nvar a=obj.value.split(''/'');\nif (a[0]-0&gt;0 &amp;&amp; a[0]-0&lt;=12 &amp;&amp; a[1]-0&gt;0 &amp;&amp; a[1]-0&lt;=31 &amp;&amp; a[2]-0&gt;1000 &amp;&amp; a[2]-0&lt;=9999 &amp;&amp; a[3]==null ||obj.value.length==0) return null; else return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Field value should be in MM/DD/YYYY format.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName])) $parts=explode(''/'', $form-&gt;data[$htmlName]); else $parts=array(0,0,0);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (count($parts)!=3 || !checkdate(intval($parts[0]), intval($parts[1]), intval($parts[2])))) return $msg;\n    </php>\n  </validator>\n  <validator name="DateShort">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Field value should be in MM/DD/YY format'';\nmsg = msg.replace(''%s'', sfgName);\nvar a=obj.value.split(''/'');\nif (a[0]-0&gt;0 &amp;&amp; a[0]-0&lt;=12 &amp;&amp; a[1]-0&gt;0 &amp;&amp; a[1]-0&lt;=31 &amp;&amp; a[2]-0&gt;=0 &amp;&amp; a[2]-0&lt;=99 &amp;&amp; a[3]==null ||obj.value.length==0) return null; else return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Field value should be in MM/DD/YY format.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName])) $parts=explode(''/'', $form-&gt;data[$htmlName]); else $parts=array(0,0,0);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (count($parts)!=3 || !is_numeric($parts[2]) || !checkdate(intval($parts[0]), intval($parts[1]), intval($parts[2])+2000))) return $msg;\n    </php>\n  </validator>\n  <validator name="Time">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Field value should be in HH:MM format.'';\nmsg = msg.replace(''%s'', sfgName);\nvar a=obj.value.split('':'');\nif (a[0]-0&gt;=0 &amp;&amp; a[0]-0&lt;24 &amp;&amp; a[1]-0&gt;=0 &amp;&amp; a[1]-0&lt;60 &amp;&amp; a[2]==null ||obj.value.length==0) return null; else return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Field value should be in HH:MM format.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName])) $parts=explode('':'', $form-&gt;data[$htmlName]); else $parts=array(99,99);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (count($parts)!=2 || !is_numeric($parts[0]) || !is_numeric($parts[1]) || intval($parts[0])&lt;0 || intval($parts[0])&gt;23 || intval($parts[1])&lt;0 || intval($parts[1])&gt;59)) return $msg;\n    </php>\n  </validator>\n</form>\n',`params`='';
insert into #__sfg_forms set `id` = 4,`status` = 1,`name` = 'Survey',`description` = 'Sample form. Allows collecting users'' opinion about services. Features:\n* multi-page form\n* conditional branching\n* Google Chart is integrated into the form. Displays the percentage of results taken from the database',`form` = '<?xml version="1.0" encoding="UTF-8"?>\n<form name="Survey" ext_access="111">\n  <description>\n    Sample form. Allows collecting users'' opinion about services. Features:\n* multi-page form\n* conditional branching\n* Google Chart is integrated into the form. Displays the percentage of results taken from the database\n  </description>\n  <database name="#__sfg_example_survey">\n    <map sfgfield="" dbfield="id" />\n    <map sfgfield="fname" dbfield="fname" />\n    <map sfgfield="lname" dbfield="lname" />\n    <map sfgfield="email" dbfield="email" />\n    <map sfgfield="phone" dbfield="phone" />\n    <map sfgfield="periodicity" dbfield="periodicity" />\n    <map sfgfield="rate" dbfield="rate" />\n    <map sfgfield="satisfaction" dbfield="satisfaction" />\n    <map sfgfield="improve" dbfield="improve" />\n    <map sfgfield="experience" dbfield="experience" />\n    <map sfgfield="experience_desc" dbfield="experience_desc" />\n    <map sfgfield="hear_from" dbfield="hear_from" />\n    <map sfgfield="other_variant" dbfield="other_variant" />\n  </database>\n  <globalphp>\n    /*******************************************************************/\n/* SmartFormer Gold (c) Form PHP controller                                                     */\n/*                                                                                                                  */\n/* Product of IToris Inc. (c) 2009 http://www.itoris.com                                       */\n/*                                                                                                                  */\n/*******************************************************************/\n\n$form-&gt;getPostedValues();\n\n$form-&gt;doAfterSubmitAction();\n\n$form-&gt;renderForm();\n\necho $form-&gt;page_html;\n  </globalphp>\n  <globaljs>\n    /*******************************************************************/\n// SmartFormer Gold (c) Form JS controller\n//\n// Product of IToris Inc. (c) 2009 http://www.itoris.com\n//\n/*******************************************************************/\n\nfunction formSubmit(submitter) {\n	//getting list of elements\n	var nodes = document.getElementById(''sfg_fieldset'').childNodes;\n	var objects = Array();\n	for (var i=0; i&lt;nodes.length; i++) if (nodes[i].tagName) objects[objects.length] = nodes[i];\n	// perform validation\n	var isFormValid = true;\n	for (var vl=0; vl&lt;sfg_validation.length; vl++) if (window[''validator''+sfg_validation[vl][1]] &amp;&amp; objects[sfg_validation[vl][0]]) {\n		var msg = window[''validator''+sfg_validation[vl][1]](objects[sfg_validation[vl][0]], sfg_validation[vl][2], sfg_validation[vl][3] ? sfg_validation[vl][3] : '''');\n		if (msg) {\n			isFormValid = false;\n			alert(msg);\n			objects[sfg_validation[vl][0]].focus();\n			return;\n		}\n	}\n	document.getElementById(''sfg_submitter'').value = submitter;\n	document.sfgForm.submit();\n}\n  </globaljs>\n  <globalhtml>\n    &lt;!-- SmartFormer Gold code part --&gt;\n\n&lt;form action="" method="post" name="sfgForm" enctype="multipart/form-data"&gt;\n&lt;%form_html%&gt;\n&lt;/form&gt;\n\n&lt;!-- End of SmartFormer Gold code part --&gt;\n  </globalhtml>\n  <globalcss>\n    #sfg_err_message {\n	font-family: Arial;\n	font-size: 12px;\n	font-weight: bold;\n	color: #ff0000;\n}\n  </globalcss>\n  <page name="Page 1" id="0" />\n  <page name="Page 2" id="1" />\n  <page name="Page 3" id="2" />\n  <page name="Page 4" id="3" />\n  <page name="Page 5" id="4" />\n  <page name="Page 6" id="5" />\n  <page name="Page 7" id="6" />\n  <page name="Page 8" id="7" />\n  <page name="Page 9" id="8" />\n  <page name="Page 10" id="9" />\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      First Name:\n    </content>\n    <style name="left" value="45px" />\n    <style name="top" value="74px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="First Name" tag="input" page="0">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="fname" />\n    <style name="width" value="180px" />\n    <style name="height" value="16px" />\n    <style name="left" value="115px" />\n    <style name="top" value="72px" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Last Name:\n    </content>\n    <style name="left" value="45px" />\n    <style name="top" value="103px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Last Name" tag="input" page="0">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="lname" />\n    <style name="width" value="180px" />\n    <style name="height" value="16px" />\n    <style name="left" value="115px" />\n    <style name="top" value="101px" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Email:&lt;span style="color:red"&gt;*&lt;/span&gt;\n    </content>\n    <style name="left" value="45px" />\n    <style name="top" value="130px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Email" tag="input" page="0">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="email" />\n    <style name="width" value="180px" />\n    <style name="height" value="16px" />\n    <style name="left" value="115px" />\n    <style name="top" value="128px" />\n    <param name="required" value="true" />\n    <param name="validation" value="Email" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      Phone:\n    </content>\n    <style name="left" value="45px" />\n    <style name="top" value="158px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Phone" tag="input" page="0">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="phone" />\n    <style name="width" value="180px" />\n    <style name="height" value="16px" />\n    <style name="left" value="115px" />\n    <style name="top" value="155px" />\n  </element>\n  <element sfgalias="" tag="input" page="0">\n    <attribute name="type" value="button" />\n    <attribute name="value" value="Start Survey" />\n    <style name="width" value="118px" />\n    <style name="left" value="178px" />\n    <style name="top" value="187px" />\n    <param name="on-click-action" value="1" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      &lt;b&gt;Contact Information&lt;/b&gt;\n    </content>\n    <style name="left" value="94px" />\n    <style name="top" value="28px" />\n    <style name="font-size" value="16px" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      How often do you use our services?\n    </content>\n    <style name="left" value="63px" />\n    <style name="top" value="21px" />\n    <style name="font-weight" value="bold" />\n    <style name="font-size" value="16px" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      Several times a year\n    </content>\n    <style name="left" value="155px" />\n    <style name="top" value="55px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      Monthly\n    </content>\n    <style name="left" value="155px" />\n    <style name="top" value="80px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      Weekly\n    </content>\n    <style name="left" value="155px" />\n    <style name="top" value="105px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="How often you use services" tag="input" page="1">\n    <attribute name="type" value="radio" />\n    <attribute name="value" value="Several times a year" />\n    <attribute name="name" value="periodicity" />\n    <style name="left" value="130px" />\n    <style name="top" value="52px" />\n    <param name="group-required" value="true" />\n  </element>\n  <element sfgalias="How often you use services" tag="input" page="1">\n    <attribute name="type" value="radio" />\n    <attribute name="name" value="periodicity" />\n    <style name="left" value="130px" />\n    <style name="top" value="77px" />\n  </element>\n  <element sfgalias="How often you use services" tag="input" page="1">\n    <attribute name="type" value="radio" />\n    <attribute name="name" value="periodicity" />\n    <style name="left" value="130px" />\n    <style name="top" value="102px" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      Bi-monthly\n    </content>\n    <style name="left" value="155px" />\n    <style name="top" value="129px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      Every day\n    </content>\n    <style name="left" value="155px" />\n    <style name="top" value="154px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="How often you use services" tag="input" page="1">\n    <attribute name="type" value="radio" />\n    <attribute name="name" value="periodicity" />\n    <style name="left" value="130px" />\n    <style name="top" value="126px" />\n  </element>\n  <element sfgalias="How often you use services" tag="input" page="1">\n    <attribute name="type" value="radio" />\n    <attribute name="name" value="periodicity" />\n    <style name="left" value="130px" />\n    <style name="top" value="151px" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      Please rate our services\n    </content>\n    <style name="left" value="113px" />\n    <style name="top" value="197px" />\n    <style name="font-weight" value="bold" />\n    <style name="font-size" value="16px" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      5+\n    </content>\n    <style name="left" value="79px" />\n    <style name="top" value="227px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      5\n    </content>\n    <style name="left" value="122px" />\n    <style name="top" value="227px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      4\n    </content>\n    <style name="left" value="160px" />\n    <style name="top" value="227px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Rate" tag="input" page="1">\n    <attribute name="type" value="radio" />\n    <attribute name="name" value="rate" />\n    <attribute name="value" value="5+" />\n    <style name="left" value="56px" />\n    <style name="top" value="224px" />\n    <param name="group-required" value="true" />\n  </element>\n  <element sfgalias="Rate" tag="input" page="1">\n    <attribute name="type" value="radio" />\n    <attribute name="name" value="rate" />\n    <attribute name="value" value="5" />\n    <style name="left" value="99px" />\n    <style name="top" value="224px" />\n  </element>\n  <element sfgalias="Rate" tag="input" page="1">\n    <attribute name="type" value="radio" />\n    <attribute name="name" value="rate" />\n    <attribute name="value" value="4" />\n    <style name="left" value="137px" />\n    <style name="top" value="224px" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      3\n    </content>\n    <style name="left" value="196px" />\n    <style name="top" value="227px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      2\n    </content>\n    <style name="left" value="234px" />\n    <style name="top" value="227px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      1\n    </content>\n    <style name="left" value="270px" />\n    <style name="top" value="227px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Rate" tag="input" page="1">\n    <attribute name="type" value="radio" />\n    <attribute name="name" value="rate" />\n    <attribute name="value" value="3" />\n    <style name="left" value="174px" />\n    <style name="top" value="224px" />\n  </element>\n  <element sfgalias="Rate" tag="input" page="1">\n    <attribute name="type" value="radio" />\n    <attribute name="name" value="rate" />\n    <attribute name="value" value="2" />\n    <style name="left" value="211px" />\n    <style name="top" value="224px" />\n  </element>\n  <element sfgalias="Rate" tag="input" page="1">\n    <attribute name="type" value="radio" />\n    <attribute name="name" value="rate" />\n    <attribute name="value" value="1" />\n    <style name="left" value="247px" />\n    <style name="top" value="224px" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      0\n    </content>\n    <style name="left" value="307px" />\n    <style name="top" value="227px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Rate" tag="input" page="1">\n    <attribute name="type" value="radio" />\n    <attribute name="name" value="rate" />\n    <attribute name="value" value="0" />\n    <style name="left" value="284px" />\n    <style name="top" value="224px" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      Are you satisfied with our support assistance?\n    </content>\n    <style name="left" value="22px" />\n    <style name="top" value="267px" />\n    <style name="font-weight" value="bold" />\n    <style name="font-size" value="16px" />\n    <style name="width" value="373px" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      Yes\n    </content>\n    <style name="left" value="169px" />\n    <style name="top" value="303px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      Not particularly\n    </content>\n    <style name="left" value="169px" />\n    <style name="top" value="328px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      Choice 3\n    </content>\n    <style name="left" value="169px" />\n    <style name="top" value="353px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Satisfaction" tag="input" page="1">\n    <attribute name="type" value="radio" />\n    <attribute name="name" value="satisfaction" />\n    <attribute name="value" value="Yes" />\n    <style name="left" value="144px" />\n    <style name="top" value="300px" />\n    <param name="group-required" value="true" />\n  </element>\n  <element sfgalias="Satisfaction" tag="input" page="1">\n    <attribute name="type" value="radio" />\n    <attribute name="name" value="satisfaction" />\n    <attribute name="value" value="Not particularly" />\n    <style name="left" value="144px" />\n    <style name="top" value="325px" />\n  </element>\n  <element sfgalias="Satisfaction" tag="input" page="1">\n    <attribute name="type" value="radio" />\n    <attribute name="value" value="No" />\n    <attribute name="name" value="satisfaction" />\n    <style name="left" value="144px" />\n    <style name="top" value="350px" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      &lt;center&gt;What would you recommend to &lt;br /&gt;ameliorate our services?&lt;/center&gt;\n    </content>\n    <style name="left" value="48px" />\n    <style name="top" value="392px" />\n    <style name="font-weight" value="bold" />\n    <style name="font-size" value="16px" />\n    <style name="width" value="273px" />\n  </element>\n  <element sfgalias="" tag="textarea" page="1">\n    <attribute name="rows" value="5" />\n    <attribute name="cols" value="30" />\n    <attribute name="name" value="improve" />\n    <style name="width" value="313px" />\n    <style name="height" value="80px" />\n    <style name="left" value="38px" />\n    <style name="top" value="441px" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      Has your experience been positive?\n    </content>\n    <style name="left" value="63px" />\n    <style name="top" value="544px" />\n    <style name="font-weight" value="bold" />\n    <style name="font-size" value="16px" />\n    <style name="height" value="" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      Yes\n    </content>\n    <style name="left" value="148px" />\n    <style name="top" value="570px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      No, describe why\n    </content>\n    <style name="left" value="148px" />\n    <style name="top" value="595px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Positive Experience" tag="input" page="1">\n    <attribute name="type" value="radio" />\n    <attribute name="name" value="experience" />\n    <attribute name="value" value="Yes" />\n    <style name="left" value="123px" />\n    <style name="top" value="567px" />\n    <event name="onclick" value="if (this.checked) {document.getElementById(''experience_desc'').style.background=''#dddddd''; document.getElementById(''experience_desc'').readOnly=true; document.getElementById(''experience_desc'').value='''';}" />\n    <param name="group-required" value="true" />\n  </element>\n  <element sfgalias="Positive Experience" tag="input" page="1">\n    <attribute name="type" value="radio" />\n    <attribute name="name" value="experience" />\n    <attribute name="value" value="No" />\n    <style name="left" value="123px" />\n    <style name="top" value="592px" />\n    <event name="onclick" value="if (this.checked) {document.getElementById(''experience_desc'').style.background=''white''; document.getElementById(''experience_desc'').readOnly=false;}" />\n  </element>\n  <element sfgalias="Experience Desc." tag="textarea" page="1">\n    <attribute name="rows" value="5" />\n    <attribute name="cols" value="30" />\n    <attribute name="name" value="experience_desc" />\n    <attribute name="id" value="experience_desc" />\n    <attribute name="readonly" value="true" />\n    <style name="width" value="308px" />\n    <style name="height" value="86px" />\n    <style name="left" value="42px" />\n    <style name="top" value="617px" />\n    <style name="background-color" value="#dddddd" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      Where have you heard about us from?\n    </content>\n    <style name="left" value="48px" />\n    <style name="top" value="729px" />\n    <style name="font-weight" value="bold" />\n    <style name="font-size" value="16px" />\n    <style name="width" value="315px" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      Google\n    </content>\n    <style name="left" value="173px" />\n    <style name="top" value="764px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      Ads\n    </content>\n    <style name="left" value="173px" />\n    <style name="top" value="789px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      TV\n    </content>\n    <style name="left" value="173px" />\n    <style name="top" value="814px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Hear from" tag="input" page="1">\n    <attribute name="type" value="radio" />\n    <attribute name="name" value="hear_from" />\n    <attribute name="value" value="Google" />\n    <style name="left" value="148px" />\n    <style name="top" value="761px" />\n    <event name="onclick" value="if (this.checked) {document.getElementById(''other_variant'').style.background=''#dddddd''; document.getElementById(''other_variant'').readOnly=true; document.getElementById(''other_variant'').value='''';}" />\n    <param name="group-required" value="true" />\n  </element>\n  <element sfgalias="Hear from" tag="input" page="1">\n    <attribute name="type" value="radio" />\n    <attribute name="name" value="hear_from" />\n    <attribute name="value" value="Ads" />\n    <style name="left" value="148px" />\n    <style name="top" value="786px" />\n    <event name="onclick" value="if (this.checked) {document.getElementById(''other_variant'').style.background=''#dddddd''; document.getElementById(''other_variant'').readOnly=true; document.getElementById(''other_variant'').value='''';}" />\n  </element>\n  <element sfgalias="Hear from" tag="input" page="1">\n    <attribute name="type" value="radio" />\n    <attribute name="name" value="hear_from" />\n    <attribute name="value" value="TV" />\n    <style name="left" value="148px" />\n    <style name="top" value="811px" />\n    <event name="onclick" value="if (this.checked) {document.getElementById(''other_variant'').style.background=''#dddddd''; document.getElementById(''other_variant'').readOnly=true; document.getElementById(''other_variant'').value='''';}" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      Other\n    </content>\n    <style name="left" value="173px" />\n    <style name="top" value="839px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Hear from" tag="input" page="1">\n    <attribute name="type" value="radio" />\n    <attribute name="name" value="hear_from" />\n    <attribute name="value" value="Other" />\n    <style name="left" value="148px" />\n    <style name="top" value="836px" />\n    <event name="onclick" value="if (this.checked) {document.getElementById(''other_variant'').style.background=''white''; document.getElementById(''other_variant'').readOnly=false;}" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      Your variant:\n    </content>\n    <style name="left" value="73px" />\n    <style name="top" value="861px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Other variant" tag="input" page="1">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="other_variant" />\n    <attribute name="id" value="other_variant" />\n    <attribute name="readonly" value="true" />\n    <style name="width" value="180px" />\n    <style name="height" value="16px" />\n    <style name="left" value="148px" />\n    <style name="top" value="859px" />\n    <style name="background-color" value="#dddddd" />\n  </element>\n  <element sfgalias="" tag="input" page="1">\n    <attribute name="type" value="button" />\n    <attribute name="value" value="Process Results" />\n    <style name="width" value="128px" />\n    <style name="left" value="224px" />\n    <style name="top" value="896px" />\n    <param name="on-click-action" value="1" />\n    <param name="save-data" value="true" />\n    <param name="after-submit" value="0" />\n  </element>\n  <element sfgalias="" tag="span" page="2">\n    <content>\n      &lt;b&gt;Thank you for sharing your opinion with us!&lt;/b&gt;\n    </content>\n    <style name="left" value="55px" />\n    <style name="top" value="29px" />\n    <style name="font-size" value="16px" />\n    <style name="width" value="351px" />\n  </element>\n  <element sfgalias="" tag="span" page="2">\n    <content>\n      &lt;b&gt;The results of the survey are the following:&lt;/b&gt;\n    </content>\n    <style name="left" value="55px" />\n    <style name="top" value="57px" />\n    <style name="font-size" value="14px" />\n    <style name="width" value="334px" />\n  </element>\n  <element sfgalias="" tag="span" page="2">\n    <content>\n      &lt;i&gt;&lt;b&gt;Rate:&lt;/b&gt;&lt;/i&gt;\n    </content>\n    <style name="left" value="55px" />\n    <style name="top" value="86px" />\n    <style name="font-size" value="14px" />\n    <style name="width" value="65px" />\n  </element>\n  <element sfgalias="" tag="div" page="2">\n    <content>\n      &amp;nbsp;\n    </content>\n    <contentphp>\n      $database=JFactory::getDBO();\n$database-&gt;setQuery(''select count(*) as `cnt`, `rate` as `title` from #__sfg_example_survey group by `rate`'');\n$a = $database-&gt;loadObjectList();\n\n\n$url = ''http://chart.apis.google.com/chart?cht=p3&amp;chs=250x100'';\n$url .= ''&amp;chl='';\nforeach ($a as $value) $url .= urlencode($value-&gt;title).''|'';\n$url = substr($url, 0, strlen($url)-1);\n\n$url .=''&amp;chd=t:'';\nforeach ($a as $value) $url .= $value-&gt;cnt.'','';\n$url = substr($url, 0, strlen($url)-1);\n\necho ''&lt;img src ="''.$url.''" /&gt;'';\n    </contentphp>\n    <style name="left" value="54px" />\n    <style name="top" value="121px" />\n    <style name="width" value="348px" />\n    <style name="height" value="172px" />\n  </element>\n  <element sfgalias="" tag="span" page="2">\n    <content>\n      &lt;i&gt;&lt;b&gt;Source of information:&lt;/b&gt;&lt;/i&gt;\n    </content>\n    <style name="left" value="56px" />\n    <style name="top" value="317px" />\n    <style name="font-size" value="14px" />\n    <style name="width" value="212px" />\n  </element>\n  <element sfgalias="" tag="div" page="2">\n    <content>\n      &amp;nbsp;\n    </content>\n    <contentphp>\n      $database=JFactory::getDBO();\n$database-&gt;setQuery(''select count(*) as `cnt`, `hear_from` as `title` from #__sfg_example_survey group by `hear_from`'');\n$a = $database-&gt;loadObjectList();\n\n\n$url = ''http://chart.apis.google.com/chart?cht=p3&amp;chs=250x100'';\n$url .= ''&amp;chl='';\nforeach ($a as $value) $url .= urlencode($value-&gt;title).''|'';\n$url = substr($url, 0, strlen($url)-1);\n\n$url .=''&amp;chd=t:'';\nforeach ($a as $value) $url .= $value-&gt;cnt.'','';\n$url = substr($url, 0, strlen($url)-1);\n\necho ''&lt;img src ="''.$url.''" /&gt;'';\n    </contentphp>\n    <style name="left" value="55px" />\n    <style name="top" value="352px" />\n    <style name="width" value="348px" />\n    <style name="height" value="172px" />\n  </element>\n  <email_template name="email to user" from_name="admin of website" from_email="admin@website.com" subject="Your details on website.com" cc="" bcc="" id="1" format="1">\n    &lt;p&gt;Dear user! &lt;br /&gt;Thank you for using our services on mysite.com. &lt;br /&gt;Your details are the following:&lt;/p&gt;\n&lt;p&gt;\n&lt;table border="0"&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;strong&gt;Field name&lt;/strong&gt;&lt;/td&gt;\n&lt;td&gt;&lt;strong&gt;Data&lt;/strong&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 1&lt;/td&gt;\n&lt;td&gt;Here you should insert dynamic variable&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 2&lt;br /&gt;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 3&lt;br /&gt;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;br /&gt;&lt;em&gt;P.S. Please do not answer on this e-mail. It has been generated automatically. &lt;/em&gt;&lt;/p&gt;\n  </email_template>\n  <email_template name="email to admin" from_name="admin of website" from_email="admin@website.com" subject="New user details" cc="" bcc="" id="2" format="1">\n    &lt;p&gt;Dear admin!&lt;br /&gt; New user has left his details on mysite.som &lt;br /&gt;The details are the folowing: :&lt;/p&gt;\n&lt;p&gt;\n&lt;table border="0"&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;strong&gt;Field name&lt;/strong&gt;&lt;/td&gt;\n&lt;td&gt;&lt;strong&gt;Data&lt;/strong&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 1&lt;/td&gt;\n&lt;td&gt;Here you should insert dynamic variable&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 2&lt;br /&gt;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 3&lt;br /&gt;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/p&gt;\n  </email_template>\n  <email_template name="your custom email" from_name="From Name" from_email="from@email.com" subject="Custom email subject" cc="" bcc="" id="3" format="1">\n    &lt;p&gt;Fill in your custom email. You can create as meny templates as you wish. Click ''New Document'' icon to start&lt;/p&gt;\n  </email_template>\n  <validator name="Required">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Field is required'';\nmsg = msg.replace(''%s'', sfgName); \nif (obj.type &amp;&amp; (obj.type.toLowerCase()==''checkbox'' || obj.type.toLowerCase()==''radio'') &amp;&amp; !obj.checked) return msg; \nif (obj.tagName.toLowerCase()==''select'' &amp;&amp; (obj.selectedIndex==-1 || obj.selectedIndex==0)) return msg; \nif (obj.value=='''') return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Field is required'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (!isset($form-&gt;data[$htmlName]) || !is_array($form-&gt;data[$htmlName]) &amp;&amp; trim($form-&gt;data[$htmlName])=='''') return $msg;\nif (is_array($form-&gt;data[$htmlName]) &amp;&amp; trim(implode('''',$form-&gt;data[$htmlName]))=='''') return $msg;\n    </php>\n  </validator>\n  <validator name="Group Required">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Group: %s. Please select a value'';\nmsg = msg.replace(''%s'', sfgName); \nvar objs = document.getElementsByName(obj.name); \nvar checked = false; \nfor (i=0; i&lt;objs.length; i++) if (objs[i].checked) { checked = true; break; } \nif (!checked) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Group: ''.$obj[''sfgalias''].''. Please select a value'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (!isset($form-&gt;data[$htmlName]) || !is_array($form-&gt;data[$htmlName]) &amp;&amp; trim($form-&gt;data[$htmlName])=='''') return $msg;\nif (is_array($form-&gt;data[$htmlName]) &amp;&amp; trim(implode('''',$form-&gt;data[$htmlName]))=='''') return $msg;\n    </php>\n  </validator>\n  <validator name="Check identical">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object, obj2 - another HTML element for comparing\nvar msg = ''Field: %s. Entities are not identival'';\nmsg = msg.replace(''%s'', sfgName);\nvar el2 = document.getElementsByName(obj2)[0];\nif (el2 &amp;&amp; obj.value != el2.value) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation, $obj - another element\n$msg = ''Field: ''.$obj[''sfgalias''].''. Entities are not identival'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$htmlName2 = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $obj2);\n$htmlName2 = strtolower($htmlName2);\nif ($form-&gt;data[$htmlName]!=$form-&gt;data[$htmlName2]) return $msg;\n    </php>\n  </validator>\n  <validator name="Email">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid email. Please specify a valid value'';\nmsg = msg.replace(''%s'', sfgName);\nvar RegExp=/^((([a-z]|[0-9]|!|#|$|%|&amp;|''|\\*|\\+|\\-|\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+(\\.([a-z]|[0-9]|!|#|$|%|&amp;|''|\\*|\\+|\\-|\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+)*)@((((([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.))*([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.)[\\w]{2,4}|(((([0-9]){1,3}\\.){3}([0-9]){1,3}))|(\\[((([0-9]){1,3}\\.){3}([0-9]){1,3})\\])))$/;\nif (obj.value!='''' &amp;&amp; !RegExp.test(obj.value.toLowerCase())) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid email. Please specify a valid value'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$RegExp="/^((([a-z]|[0-9]|!|#|$|%|&amp;|''|\\*|\\+|\\-|\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+(\\.([a-z]|[0-9]|!|#|$|%|&amp;|''|\\*|\\+|\\-|\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+)*)@((((([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.))*([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.)[\\w]{2,4}|(((([0-9]){1,3}\\.){3}([0-9]){1,3}))|(\\[((([0-9]){1,3}\\.){3}([0-9]){1,3})\\])))$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($RegExp, strtolower($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="Zip">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct zip/postal'';\nmsg = msg.replace(''%s'', sfgName);\nvar letters=''qwertyuiopasdfghjklzxcvbnm -1234567890'';\nvar ps=false;\nfor(i=0;i&lt;obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))&lt;0) ps=true;\nif (ps || obj.value.length&gt;10) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct zip/postal'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$letters = ''qwertyuiopasdfghjklzxcvbnm -1234567890'';\nif (isset($form-&gt;data[$htmlName])) $value = strtolower($form-&gt;data[$htmlName]); else $value='''';\nfor($i=0; $i&lt;strlen($value); $i++) if (strpos($letters, substr($value, $i, 1))===false) return $msg;\n    </php>\n  </validator>\n  <validator name="ZipUS">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid US Zip. Please specify a valid value'';\nmsg = msg.replace(''%s'', sfgName);\nvar zipPattern1=/^(\\d{5})$/;\nvar zipPattern2=/^(\\d{5})\\-(\\d{4})$/;\nif ((obj.value.match(zipPattern1)==null)&amp;&amp;(obj.value.match(zipPattern2)==null)&amp;&amp;obj.value.length&gt;0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid US Zip. Please specify a valid value'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$zipPattern1="/^(\\d{5})$/";\n$zipPattern2="/^(\\d{5})\\-(\\d{4})$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($zipPattern1, $form-&gt;data[$htmlName]) &amp;&amp; !preg_match($zipPattern2, $form-&gt;data[$htmlName])) return $msg;\n    </php>\n  </validator>\n  <validator name="Phone">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct phone number'';\nmsg = msg.replace(''%s'', sfgName);\nvar letters=''1234567890 -.()+'';\nvar ps=false;\nfor(i=0;i&lt;obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))&lt;0) ps=true;\nif (ps || obj.value.length&gt;10) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct phone number'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$letters = ''1234567890 -.()+'';\nif (isset($form-&gt;data[$htmlName])) $value = strtolower($form-&gt;data[$htmlName]); else $value='''';\nfor($i=0; $i&lt;strlen($value); $i++) if (strpos($letters, substr($value, $i, 1))===false) return $msg;\n    </php>\n  </validator>\n  <validator name="PhoneUS">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Please, provide a phone number in format XXX-XXX-XXXX, where X is a digit.'';\nmsg = msg.replace(''%s'', sfgName);\nvar phonePattern=/^(\\d{3})\\-(\\d{3})\\-(\\d{4})$/;\nif ((obj.value.match(phonePattern)==null)&amp;&amp;obj.value.length&gt;0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Please, provide a phone number in format XXX-XXX-XXXX, where X is a digit.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$phonePattern="/^(\\d{3})\\-(\\d{3})\\-(\\d{4})$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($phonePattern, strtolower($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="Password">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. The password should contain 6 to 12 symbols'';\nmsg = msg.replace(''%s'', sfgName);\nif ((obj.value.length&lt;6 || obj.value.length&gt;12) &amp;&amp; obj.value.length!=0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. The password should contain 6 to 12 symbols'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (strlen($form-&gt;data[$htmlName])&lt;6 || strlen($form-&gt;data[$htmlName])&gt;12)) return $msg;\n    </php>\n  </validator>\n  <validator name="CreditCardNumber">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct credit card number'';\nmsg = msg.replace(''%s'', sfgName);\nvar ccPattern=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$/;\nif ((obj.value.match(ccPattern)==null)&amp;&amp;obj.value.length&gt;0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct credit card number'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$ccPattern="/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($ccPattern, strtolower($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="CreditCardCVV">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct credit card CVV'';\nmsg = msg.replace(''%s'', sfgName);\nvar letters=''1234567890'';\nvar ps=false;\nfor(i=0;i&lt;obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))&lt;0) ps=true;\nif (ps || (obj.value.length&lt;3 &amp;&amp; obj.value.length!=0) || obj.value.length&gt;4) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct credit card CVV'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (strlen($form-&gt;data[$htmlName])&lt;3 || strlen($form-&gt;data[$htmlName])&gt;4 || !is_numeric($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="Money">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify currency correctly'';\nmsg = msg.replace(''%s'', sfgName);\nvar letters=''1234567890.'';\nvar ps=false; for(i=0;i&lt;obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))&lt;0) ps=true;\nif (ps || obj.value.length&gt;10 || Math.floor(obj.value*100)/100!=obj.value-0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify currency correctly'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (floor(floatval($form-&gt;data[$htmlName])*100)/100!=floatval($form-&gt;data[$htmlName]) || !is_numeric($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="URL">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a valid URL'';\nmsg = msg.replace(''%s'', sfgName);\nvar RegExp=/^(([\\w]+:)?\\/\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&amp;?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?$/;\nif (obj.value!='''' &amp;&amp; !RegExp.test(obj.value)) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a valid URL'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$RegExp="/^(([\\w]+:)?\\/\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&amp;?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($RegExp, strtolower($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="IP">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct IP'';\nmsg = msg.replace(''%s'', sfgName);\nvar RegExp=/^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/;\nvar a=obj.value.split(''.'');\nif (obj.value!='''' &amp;&amp; !RegExp.test(obj.value) || a[0]&gt;255 || a[1]&gt;255 || a[2]&gt;255 || a[3]&gt;255) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct IP'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$RegExp="/^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/";\nif (isset($form-&gt;data[$htmlName])) $parts = explode(''.'', $form-&gt;data[$htmlName]); else $parts = array(999,999,999,999);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (!preg_match($RegExp, $form-&gt;data[$htmlName]) || intval($parts[0])&gt;255 || intval($parts[1])&gt;255 || intval($parts[2])&gt;255 || intval($parts[3])&gt;255)) return $msg;\n    </php>\n  </validator>\n  <validator name="SSN">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Please, provide a SSN in format XXX-XX-XXXX or XX-XXXXXXX, where X is a digit.'';\nmsg = msg.replace(''%s'', sfgName);\nvar ssnPattern1 = /^(\\d{3})\\-(\\d{2})\\-(\\d{4})$/;\nvar ssnPattern2 = /^(\\d{2})\\-(\\d{7})$/;\nif ((obj.value.match(ssnPattern1)==null)&amp;&amp;(obj.value.match(ssnPattern2)==null)&amp;&amp;obj.value.length&gt;0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Please, provide a SSN in format XXX-XX-XXXX or XX-XXXXXXX, where X is a digit.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$ssnPattern1="/^(\\d{3})\\-(\\d{2})\\-(\\d{4})$/";\n$ssnPattern2="/^(\\d{2})\\-(\\d{7})$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($ssnPattern1, $form-&gt;data[$htmlName]) &amp;&amp; !preg_match($ssnPattern2, $form-&gt;data[$htmlName])) return $msg;\n    </php>\n  </validator>\n  <validator name="Date">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Field value should be in MM/DD/YYYY format.'';\nmsg = msg.replace(''%s'', sfgName);\nvar a=obj.value.split(''/'');\nif (a[0]-0&gt;0 &amp;&amp; a[0]-0&lt;=12 &amp;&amp; a[1]-0&gt;0 &amp;&amp; a[1]-0&lt;=31 &amp;&amp; a[2]-0&gt;1000 &amp;&amp; a[2]-0&lt;=9999 &amp;&amp; a[3]==null ||obj.value.length==0) return null; else return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Field value should be in MM/DD/YYYY format.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName])) $parts=explode(''/'', $form-&gt;data[$htmlName]); else $parts=array(0,0,0);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (count($parts)!=3 || !checkdate(intval($parts[0]), intval($parts[1]), intval($parts[2])))) return $msg;\n    </php>\n  </validator>\n  <validator name="DateShort">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Field value should be in MM/DD/YY format'';\nmsg = msg.replace(''%s'', sfgName);\nvar a=obj.value.split(''/'');\nif (a[0]-0&gt;0 &amp;&amp; a[0]-0&lt;=12 &amp;&amp; a[1]-0&gt;0 &amp;&amp; a[1]-0&lt;=31 &amp;&amp; a[2]-0&gt;=0 &amp;&amp; a[2]-0&lt;=99 &amp;&amp; a[3]==null ||obj.value.length==0) return null; else return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Field value should be in MM/DD/YY format.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName])) $parts=explode(''/'', $form-&gt;data[$htmlName]); else $parts=array(0,0,0);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (count($parts)!=3 || !is_numeric($parts[2]) || !checkdate(intval($parts[0]), intval($parts[1]), intval($parts[2])+2000))) return $msg;\n    </php>\n  </validator>\n  <validator name="Time">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Field value should be in HH:MM format.'';\nmsg = msg.replace(''%s'', sfgName);\nvar a=obj.value.split('':'');\nif (a[0]-0&gt;=0 &amp;&amp; a[0]-0&lt;24 &amp;&amp; a[1]-0&gt;=0 &amp;&amp; a[1]-0&lt;60 &amp;&amp; a[2]==null ||obj.value.length==0) return null; else return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Field value should be in HH:MM format.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName])) $parts=explode('':'', $form-&gt;data[$htmlName]); else $parts=array(99,99);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (count($parts)!=2 || !is_numeric($parts[0]) || !is_numeric($parts[1]) || intval($parts[0])&lt;0 || intval($parts[0])&gt;23 || intval($parts[1])&lt;0 || intval($parts[1])&gt;59)) return $msg;\n    </php>\n  </validator>\n</form>\n',`params` = '';
insert into #__sfg_forms set `id` = 5,`status` = 1,`name` = 'Shopping Cart',`description` = 'Sample Form. 6-step shopping cart. Supports all main functions of real shopping cart. Features:\n* multi-page form\n* back and forward navigation in the products list\n* featured products\n* adding/removing products, price recalculation\n* binding delivery information with the order\n* redirecting to 2Checkout processor when order is finished\n\nPlease note, that there is no interface for adding products and categories. If you have a limited number of products you can add them into the database manually:\n#__sfg_example_scart_categories - list of categories\n#__sfg_example_scart_products - list of products\nImages are located in /components/com_sfg/images/scart/',`form` = '<?xml version="1.0" encoding="UTF-8"?>\n<form name="Shopping Cart" ext_access="111">\n  <description>\n    Sample Form. 6-step shopping cart. Supports all main functions of real shopping cart. Features:\n* multi-page form\n* back and forward navigation in the products list\n* featured products\n* adding/removing products, price recalculation\n* binding delivery information with the order\n* redirecting to 2Checkout processor when order is finished\n\nPlease note, that there is no interface for adding products and categories. If you have a limited number of products you can add them into the database manually:\n#__sfg_example_scart_categories - list of categories\n#__sfg_example_scart_products - list of products\nImages are located in /components/com_sfg/images/scart/\n  </description>\n  <database name="#__sfg_example_scart">\n    <map sfgfield="" dbfield="id" />\n    <map sfgfield="email" dbfield="email" />\n    <map sfgfield="date_field" dbfield="delivery_date" />\n    <map sfgfield="country" dbfield="country" />\n    <map sfgfield="state" dbfield="state" />\n    <map sfgfield="zip" dbfield="zip" />\n    <map sfgfield="city" dbfield="city" />\n    <map sfgfield="comments" dbfield="comments" />\n    <map sfgfield="submission_time" dbfield="submission_time" />\n    <map sfgfield="order_id" dbfield="order_id" />\n    <map sfgfield="order_details" dbfield="order_details" />\n    <map sfgfield="total" dbfield="total" />\n  </database>\n  <globalphp>\n    /*******************************************************************/\n/* SmartFormer Gold (c) Form PHP controller                                                     */\n/*                                                                                                                  */\n/* Product of IToris Inc. (c) 2009 http://www.itoris.com                                       */\n/*                                                                                                                  */\n/*******************************************************************/\n\nif (isset($_POST[''scart_task''])) $task = $_POST[''scart_task'']; else $task = ''frontend'';\nif (isset($_POST[''scart_id''])) $id = $_POST[''scart_id'']; else $id = 0;\n$database=JFactory::getDBO();\n\nif ($task == ''frontend'') {\n	$form-&gt;page=0;\n}\n\nif ($task == ''show_category'') {\n	$form-&gt;page=1;\n}\n\nif ($task == ''show_product'') {\n	$form-&gt;page=2;\n}\n\nif ($task == ''show_scart'') {\n	$form-&gt;page=3;\n}\n\nif ($task == ''add_product'') {\n	$isInCart = false;\n	foreach ($_SESSION[''scart''] as $key =&gt; $value) {\n		if ($value[''id'']==$id) $isInCart = true;\n	}\n	if (!$isInCart) $_SESSION[''scart''][] = array(''id''=&gt;$id, ''qty''=&gt;1);\n	$form-&gt;page=3;\n}\n\nif ($task == ''rem_product'') {\n	array_splice($_SESSION[''scart''], $id, 1);\n	$form-&gt;page=3;\n}\n\nif ($task == ''recalculate'') {\n	foreach ($_POST[''prod''] as $key =&gt; $value) {\n		if (floor(intval($value))==0) $value=''1'';\n		$_SESSION[''scart''][$key][''qty''] = floor(intval($value));\n	}\n	$form-&gt;page=3;\n}\n\nif ($task == ''pay_2co'') {	\n	$database-&gt;setQuery(''select `total` from #__sfg_example_scart order by `id` desc limit 1'');\n	$total = $database-&gt;loadResult();\n	$url = ''https://www.2checkout.com/checkout/purchase?sid=1234567&amp;total=''.$total.''&amp;cart_order_id=1&amp;c_prod=1&amp;id_type=2'';\n	global $mainframe;\n	$mainframe-&gt;redirect($url);\n}\n\nif ($task == ''buy_now'') {	\n	$form-&gt;page=4;\n}\n\nif ($task == ''submit_order'') {\n	$form-&gt;getPostedValues();\n	$form-&gt;data[''submission_time''] = date(''r'');\n	$form-&gt;data[''order_id''] = ''AB''.strval(rand(100000,999999));\n	$form-&gt;data[''order_details'']='''';\n	$sum = 0;\n	foreach ($_SESSION[''scart''] as $value) {\n		$database-&gt;setQuery(''select `title` from #__sfg_example_scart_products where `id`=''.$value[''id'']);\n		$title = $database-&gt;loadResult();\n		$database-&gt;setQuery(''select `price` from #__sfg_example_scart_products where `id`=''.$value[''id'']);\n		$price = $database-&gt;loadResult();\n		$form-&gt;data[''order_details''] .="Product: ".$title.''. Quantitly:''.$value[''qty'']."\\n";\n		$sum += $price*$value[''qty''];\n	}\n	$form-&gt;data[''total'']=$sum;\n	$form-&gt;doAfterSubmitAction();\n	$_SESSION[''scart''] = array();\n}\n\n$form-&gt;renderForm();\n\necho $form-&gt;page_html;\n  </globalphp>\n  <globaljs>\n    /*******************************************************************/\n// SmartFormer Gold (c) Form JS controller\n//\n// Product of IToris Inc. (c) 2009 http://www.itoris.com\n//\n/*******************************************************************/\n\nfunction formSubmit(submitter) {\n	//getting list of elements\n	var nodes = document.getElementById(''sfg_fieldset'').childNodes;\n	var objects = Array();\n	for (var i=0; i&lt;nodes.length; i++) if (nodes[i].tagName) objects[objects.length] = nodes[i];\n	// perform validation\n	var isFormValid = true;\n	for (var vl=0; vl&lt;sfg_validation.length; vl++) if (window[''validator''+sfg_validation[vl][1]] &amp;&amp; objects[sfg_validation[vl][0]]) {\n		var msg = window[''validator''+sfg_validation[vl][1]](objects[sfg_validation[vl][0]], sfg_validation[vl][2], sfg_validation[vl][3] ? sfg_validation[vl][3] : '''');\n		if (msg) {\n			isFormValid = false;\n			alert(msg);\n			objects[sfg_validation[vl][0]].focus();\n			return;\n		}\n	}\n	document.getElementById(''sfg_submitter'').value = submitter;\n	document.sfgForm.submit();\n}\n\nvar objs = Array();\nvar isUS = true;\n\nfunction countrySelected(obj) {\n	var stateField = document.getElementsByName(''state'')[0];\n	var stateSpan = document.getElementById(''state_span'');\n	if (obj.value.toLowerCase()==''united states'' &amp;&amp; !isUS) {\n		isUS = true;\n		stateField.style.display = ''block'';\n		stateSpan.style.display = ''block'';\n		moveElementsDown(objs, 28);\n	} else if (obj.value.toLowerCase()!=''united states'' &amp;&amp; isUS) {\n		isUS = false;\n		stateField.selectedIndex = 0;\n		objs = moveElementsUp(stateField, 28);\n		stateField.style.display = ''none'';	\n		stateSpan.style.display = ''none'';	\n	}\n}\n\nfunction onFormLoad() {\n	if (!document.getElementsByName(''country'')[0]) {\n		setTimeout(''onFormLoad()'', 20);\n		return;\n	}\n	if (document.getElementsByName(''country'')[0].value.toLowerCase()!=''united states'') {\n		countrySelected(document.getElementsByName(''country'')[0]);\n	}\n}\n\nonFormLoad();\n  </globaljs>\n  <globalhtml>\n    &lt;!-- SmartFormer Gold code part --&gt;\n\n&lt;form action="" method="post" name="sfgForm" enctype="multipart/form-data"&gt;\n&lt;%form_html%&gt;\n&lt;input type="hidden" name="scart_task" id="scart_task" /&gt;\n&lt;input type="hidden" name="scart_id" id="scart_id" /&gt;\n&lt;input type="hidden" name="scart_start" id="scart_start" /&gt;\n&lt;input type="hidden" name="order_details" id="order_details" /&gt;\n&lt;input type="hidden" name="submission_time" id="submission_time" /&gt;\n&lt;input type="hidden" name="order_id" id="order_id" /&gt;\n&lt;input type="hidden" name="total" id="total" /&gt;\n&lt;/form&gt;\n\n&lt;!-- End of SmartFormer Gold code part --&gt;\n  </globalhtml>\n  <globalcss>\n    #sfg_err_message {\n	font-family: Arial;\n	font-size: 12px;\n	font-weight: bold;\n	color: #ff0000;\n}\n\n.category {\n	padding-left:5px;\n	cursor:pointer;\n	background-color:#eeffff;\n	color:#000055;\n}\n\n.category:hover {\n	background-color:#ffffdd;\n	color:#ff0000;\n}\n\n.category_title {\n	width:100%;\n	text-align:center;\n	font-weight:bold;\n	font-size:14px;\n	background:#ffddff;\n}\n\n.preview {\n	width:120px;\n	height:165px;\n	float:left;\n	margin:5px 2px 2px 2px;\n	border:1px solid #000000;\n	padding:2px;\n	cursor:pointer;\n}\n\n.preview img {\n	width:120px;\n	height:131px;\n}\n\n.preview center {\n	font-weight:bold;\n	font-style:italic;\n}\n\n.scart_nav {\n	color:#0000ff;\n	cursor:pointer;\n	font-weight:bold;\n}\n  </globalcss>\n  <page name="Page 1" id="0" />\n  <page name="Page 2" id="1" />\n  <page name="Page 3" id="2" />\n  <page name="Page 4" id="3" />\n  <page name="Page 5" id="4" />\n  <page name="Page 6" id="5" />\n  <page name="Page 7" id="6" />\n  <page name="Page 8" id="7" />\n  <page name="Page 9" id="8" />\n  <page name="Page 10" id="9" />\n  <element sfgalias="" tag="div" page="0">\n    <content>\n      &lt;center class="category_title"&gt;Categories:&lt;/center&gt;\n    </content>\n    <contentphp>\n      $database=JFactory::getDBO();\n$database-&gt;setQuery(''select * from #__sfg_example_scart_categories'');\n$rows = $database-&gt;loadAssocList();\nforeach ($rows as $value) echo ''&lt;div class="category" onclick="document.getElementById(\\''scart_id\\'').value=\\''''.$value[''id''].''\\''; document.getElementById(\\''scart_task\\'').value=\\''show_category\\''; document.sfgForm.submit();"&gt;&lt;b&gt;''.$value[''title''].''&lt;/b&gt;&lt;/div&gt;'';\n    </contentphp>\n    <style name="left" value="10px" />\n    <style name="top" value="35px" />\n    <style name="width" value="175px" />\n    <style name="height" value="394px" />\n    <style name="border-width" value="2px" />\n    <style name="border-color" value="#000000" />\n    <style name="border-style" value="solid" />\n    <style name="color" value="" />\n    <style name="background-color" value="#eeffff" />\n    <style name="text-align" value="" />\n  </element>\n  <element sfgalias="" tag="div" page="0">\n    <content>\n      &lt;center class="category_title"&gt;Featured Products:&lt;/center&gt;\n    </content>\n    <contentphp>\n      $database=JFactory::getDBO();\n$database-&gt;setQuery(''select * from #__sfg_example_scart_products where `featured`=1'');\n$rows = $database-&gt;loadAssocList();\nforeach ($rows as $value) {\n	echo ''&lt;div class="preview"&gt;'';\n	echo ''&lt;img src="''.str_replace(''{site_url}'', $GLOBALS[''mosConfig_live_site''], $value[''image'']).''"  onclick="document.getElementById(\\''scart_id\\'').value=\\''''.$value[''id''].''\\''; document.getElementById(\\''scart_task\\'').value=\\''show_product\\''; document.sfgForm.submit();" /&gt;'';\n	echo ''&lt;center&gt;''.$value[''title''].''&lt;/center&gt;'';\n	echo ''&lt;center style="color:red"&gt;$''.$value[''price''].''&lt;/center&gt;'';\n	echo ''&lt;/div&gt;'';\n}\n    </contentphp>\n    <style name="left" value="193px" />\n    <style name="top" value="35px" />\n    <style name="width" value="525px" />\n    <style name="height" value="395px" />\n    <style name="border-width" value="2px" />\n    <style name="border-color" value="#000000" />\n    <style name="border-style" value="solid" />\n    <style name="color" value="" />\n    <style name="background-color" value="#ffffff" />\n    <style name="text-align" value="" />\n  </element>\n  <element sfgalias="" tag="div" page="1">\n    <content>\n      &lt;center class="category_title"&gt;Categories:&lt;/center&gt;\n    </content>\n    <contentphp>\n      $database=JFactory::getDBO();\n$database-&gt;setQuery(''select * from #__sfg_example_scart_categories'');\n$rows = $database-&gt;loadAssocList();\nforeach ($rows as $value) echo ''&lt;div class="category" onclick="document.getElementById(\\''scart_id\\'').value=\\''''.$value[''id''].''\\''; document.getElementById(\\''scart_task\\'').value=\\''show_category\\''; document.sfgForm.submit();"&gt;&lt;b&gt;''.$value[''title''].''&lt;/b&gt;&lt;/div&gt;'';\n    </contentphp>\n    <style name="left" value="10px" />\n    <style name="top" value="35px" />\n    <style name="width" value="175px" />\n    <style name="height" value="394px" />\n    <style name="border-width" value="2px" />\n    <style name="border-color" value="#000000" />\n    <style name="border-style" value="solid" />\n    <style name="color" value="" />\n    <style name="background-color" value="#eeffff" />\n    <style name="text-align" value="" />\n  </element>\n  <element sfgalias="" tag="div" page="1">\n    <contentphp>\n      if (isset($_POST[''scart_id''])) $id = $_POST[''scart_id'']; else $id = 0;\nif (isset($_POST[''scart_start''])) $start = intval($_POST[''scart_start'']); else $start = 0;\nif ($start&lt;0) $start=0;\n\n$database=JFactory::getDBO();\n\n$database-&gt;setQuery(''select `title` from #__sfg_example_scart_categories where `id`=''.$id);\n$catname = $database-&gt;loadResult();\necho ''&lt;center class="category_title"&gt;Category: ''.$catname.''&lt;/center&gt;'';\n\n$database-&gt;setQuery(''select * from #__sfg_example_scart_products where `cat_id`=''.$id);\n$rows = $database-&gt;loadAssocList();\n\nfor($i=$start; $i&lt;count($rows) &amp;&amp; $i&lt;$start+8; $i++) {\n	echo ''&lt;div class="preview" onclick="document.getElementById(\\''scart_id\\'').value=\\''''.$rows[$i][''id''].''\\''; document.getElementById(\\''scart_task\\'').value=\\''show_product\\''; document.sfgForm.submit();"&gt;'';\n	echo ''&lt;img src="''.str_replace(''{site_url}'', $GLOBALS[''mosConfig_live_site''], $rows[$i][''image'']).''" /&gt;'';\n	echo ''&lt;center&gt;''.$rows[$i][''title''].''&lt;/center&gt;'';\n	echo ''&lt;center style="color:red"&gt;$''.$rows[$i][''price''].''&lt;/center&gt;'';\n	echo ''&lt;/div&gt;'';\n}\nif (count($rows)==0) {\n	echo ''&lt;b&gt;&lt;i&gt;No products in this category&lt;/i&gt;&lt;/b&gt;'';\n} else {\n	echo ''&lt;div style="padding:0 10px 0 10px; position:absolute; top:375px; left:5px; width:500px; height:20px;"&gt;'';\n	if ($start&gt;0) echo ''&lt;div style="float:left" class="scart_nav" onclick="document.getElementById(\\''scart_start\\'').value=\\''''.($start-8).''\\''; document.getElementById(\\''scart_id\\'').value=\\''''.$id.''\\''; document.getElementById(\\''scart_task\\'').value=\\''show_category\\''; document.sfgForm.submit();"&gt;&amp;lt;&amp;lt; Prev&lt;/div&gt;'';\n	if ($start+8&lt;count($rows)) echo ''&lt;div style="float:right" class="scart_nav" onclick="document.getElementById(\\''scart_start\\'').value=\\''''.($start+8).''\\''; document.getElementById(\\''scart_id\\'').value=\\''''.$id.''\\''; document.getElementById(\\''scart_task\\'').value=\\''show_category\\''; document.sfgForm.submit();"&gt;Next &amp;gt;&amp;gt;&lt;/div&gt;'';\n	echo ''&lt;/div&gt;'';\n}\n    </contentphp>\n    <style name="left" value="193px" />\n    <style name="top" value="35px" />\n    <style name="width" value="525px" />\n    <style name="height" value="395px" />\n    <style name="border-width" value="2px" />\n    <style name="border-color" value="#000000" />\n    <style name="border-style" value="solid" />\n    <style name="color" value="" />\n    <style name="background-color" value="#ffffff" />\n    <style name="text-align" value="" />\n  </element>\n  <element sfgalias="" tag="div" page="1">\n    <contentphp>\n      if (!isset($_SESSION[''scart''])) $_SESSION[''scart''] = array();\necho ''&lt;img src="''.$GLOBALS[''mosConfig_live_site''].''/components/com_sfg/images/scart/scart.png" style="float:right" /&gt;'';\nif (count($_SESSION[''scart''])==0) {\n	echo ''&lt;div style="float:right; margin:5px;"&gt;No products in your shopping cart&lt;/div&gt;'';\n} else {\n	echo ''&lt;div style="float:right; margin:5px; cursor:pointer" onclick="document.getElementById(\\''scart_task\\'').value=\\''show_scart\\''; document.sfgForm.submit();"&gt;''.count($_SESSION[''scart'']).'' product(s)&lt;/div&gt;'';\n}\n    </contentphp>\n    <style name="left" value="193px" />\n    <style name="top" value="10px" />\n    <style name="width" value="526px" />\n    <style name="height" value="20px" />\n    <style name="text-align" value="right" />\n    <style name="border-width" value="" />\n    <style name="border-color" value="" />\n    <style name="border-style" value="" />\n  </element>\n  <element sfgalias="" tag="div" page="0">\n    <contentphp>\n      if (!isset($_SESSION[''scart''])) $_SESSION[''scart''] = array();\necho ''&lt;img src="''.$GLOBALS[''mosConfig_live_site''].''/components/com_sfg/images/scart/scart.png" style="float:right" /&gt;'';\nif (count($_SESSION[''scart''])==0) {\n	echo ''&lt;div style="float:right; margin:5px;"&gt;No products in your shopping cart&lt;/div&gt;'';\n} else {\n	echo ''&lt;div style="float:right; margin:5px; cursor:pointer" onclick="document.getElementById(\\''scart_task\\'').value=\\''show_scart\\''; document.sfgForm.submit();"&gt;''.count($_SESSION[''scart'']).'' product(s)&lt;/div&gt;'';\n}\n    </contentphp>\n    <style name="left" value="193px" />\n    <style name="top" value="10px" />\n    <style name="width" value="526px" />\n    <style name="height" value="20px" />\n    <style name="text-align" value="right" />\n    <style name="border-width" value="" />\n    <style name="border-color" value="" />\n    <style name="border-style" value="" />\n  </element>\n  <element sfgalias="" tag="span" page="1">\n    <content>\n      SmartFormer Gold Example\n    </content>\n    <style name="left" value="10px" />\n    <style name="top" value="12px" />\n    <style name="font-size" value="14px" />\n    <style name="font-style" value="italic" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="span" page="0">\n    <content>\n      SmartFormer Gold Example\n    </content>\n    <style name="left" value="10px" />\n    <style name="top" value="12px" />\n    <style name="font-size" value="14px" />\n    <style name="font-style" value="italic" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="div" page="2">\n    <content>\n      &lt;center class="category_title"&gt;Categories:&lt;/center&gt;\n    </content>\n    <contentphp>\n      $database=JFactory::getDBO();\n$database-&gt;setQuery(''select * from #__sfg_example_scart_categories'');\n$rows = $database-&gt;loadAssocList();\nforeach ($rows as $value) echo ''&lt;div class="category" onclick="document.getElementById(\\''scart_id\\'').value=\\''''.$value[''id''].''\\''; document.getElementById(\\''scart_task\\'').value=\\''show_category\\''; document.sfgForm.submit();"&gt;&lt;b&gt;''.$value[''title''].''&lt;/b&gt;&lt;/div&gt;'';\n    </contentphp>\n    <style name="left" value="10px" />\n    <style name="top" value="35px" />\n    <style name="width" value="175px" />\n    <style name="height" value="404px" />\n    <style name="border-width" value="2px" />\n    <style name="border-color" value="#000000" />\n    <style name="border-style" value="solid" />\n    <style name="color" value="" />\n    <style name="background-color" value="#eeffff" />\n    <style name="text-align" value="" />\n  </element>\n  <element sfgalias="" tag="div" page="2">\n    <contentphp>\n      if (isset($_POST[''scart_id''])) $id = $_POST[''scart_id'']; else $id = 0;\n\n$database=JFactory::getDBO();\n\n$database-&gt;setQuery(''select * from #__sfg_example_scart_products where `id`=''.$id);\n$rows = $database-&gt;loadAssocList();\n$product = &amp;$rows[0];\necho ''&lt;center class="category_title"&gt;Product: ''.$product[''title''].''&lt;/center&gt;'';\necho ''&lt;div style="float:left; padding:2px; margin:2px; border:1px solid #000000;"&gt;&lt;img src="''.str_replace(''{site_url}'', $GLOBALS[''mosConfig_live_site''], $product[''image'']).''" /&gt;&lt;/div&gt;'';\necho ''&lt;div style="padding:10px;"&gt;&lt;b&gt;''.$product[''title''].''&lt;/b&gt;&lt;br /&gt;&lt;b style="color:#ff0000;"&gt;$''.$product[''price''].''&lt;/b&gt;&lt;/div&gt;'';\necho ''&lt;input type="button" value="add to cart" onclick="document.getElementById(\\''scart_id\\'').value=\\''''.$product[''id''].''\\''; document.getElementById(\\''scart_task\\'').value=\\''add_product\\''; document.sfgForm.submit();" /&gt;'';\n    </contentphp>\n    <style name="left" value="193px" />\n    <style name="top" value="35px" />\n    <style name="width" value="525px" />\n    <style name="height" value="404px" />\n    <style name="border-width" value="2px" />\n    <style name="border-color" value="#000000" />\n    <style name="border-style" value="solid" />\n    <style name="color" value="" />\n    <style name="background-color" value="#ffffff" />\n    <style name="text-align" value="" />\n  </element>\n  <element sfgalias="" tag="div" page="2">\n    <contentphp>\n      if (!isset($_SESSION[''scart''])) $_SESSION[''scart''] = array();\necho ''&lt;img src="''.$GLOBALS[''mosConfig_live_site''].''/components/com_sfg/images/scart/scart.png" style="float:right" /&gt;'';\nif (count($_SESSION[''scart''])==0) {\n	echo ''&lt;div style="float:right; margin:5px;"&gt;No products in your shopping cart&lt;/div&gt;'';\n} else {\n	echo ''&lt;div style="float:right; margin:5px; cursor:pointer" onclick="document.getElementById(\\''scart_task\\'').value=\\''show_scart\\''; document.sfgForm.submit();"&gt;''.count($_SESSION[''scart'']).'' product(s)&lt;/div&gt;'';\n}\n    </contentphp>\n    <style name="left" value="193px" />\n    <style name="top" value="10px" />\n    <style name="width" value="526px" />\n    <style name="height" value="20px" />\n    <style name="text-align" value="right" />\n    <style name="border-width" value="" />\n    <style name="border-color" value="" />\n    <style name="border-style" value="" />\n  </element>\n  <element sfgalias="" tag="span" page="2">\n    <content>\n      SmartFormer Gold Example\n    </content>\n    <style name="left" value="10px" />\n    <style name="top" value="12px" />\n    <style name="font-size" value="14px" />\n    <style name="font-style" value="italic" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="div" page="3">\n    <content>\n      &lt;center class="category_title"&gt;Categories:&lt;/center&gt;\n    </content>\n    <contentphp>\n      $database=JFactory::getDBO();\n$database-&gt;setQuery(''select * from #__sfg_example_scart_categories'');\n$rows = $database-&gt;loadAssocList();\nforeach ($rows as $value) echo ''&lt;div class="category" onclick="document.getElementById(\\''scart_id\\'').value=\\''''.$value[''id''].''\\''; document.getElementById(\\''scart_task\\'').value=\\''show_category\\''; document.sfgForm.submit();"&gt;&lt;b&gt;''.$value[''title''].''&lt;/b&gt;&lt;/div&gt;'';\n    </contentphp>\n    <style name="left" value="10px" />\n    <style name="top" value="35px" />\n    <style name="width" value="175px" />\n    <style name="height" value="404px" />\n    <style name="border-width" value="2px" />\n    <style name="border-color" value="#000000" />\n    <style name="border-style" value="solid" />\n    <style name="color" value="" />\n    <style name="background-color" value="#eeffff" />\n    <style name="text-align" value="" />\n  </element>\n  <element sfgalias="" tag="div" page="3">\n    <content>\n      &lt;center class="category_title"&gt;Shopping Cart:&lt;/center&gt;\n    </content>\n    <contentphp>\n      $database=JFactory::getDBO();\necho ''&lt;div style="height:20px; border-bottom:1px dotted #888888; padding:1px 5px 1px 5px;"&gt;'';\necho ''&lt;div style="float:left; width:200px; line-height:20px;"&gt;&lt;b style="color:red;"&gt;Product name&lt;/b&gt;&lt;/div&gt;'';\necho ''&lt;div style="float:left; width:50px; line-height:20px;"&gt;&lt;b style="color:red;"&gt;Qty.&lt;/b&gt;&lt;/div&gt;'';\necho ''&lt;div style="float:left; width:100px; line-height:20px;"&gt;&lt;b style="color:red;"&gt;Cost&lt;/b&gt;&lt;/div&gt;'';\necho ''&lt;/div&gt;'';\n\n$sum = 0;\n\nforeach ($_SESSION[''scart''] as $key =&gt; $value) {\n	$database-&gt;setQuery(''select `title` from #__sfg_example_scart_products where `id`=''.$value[''id'']);\n	$title = $database-&gt;loadResult();\n	$database-&gt;setQuery(''select `price` from #__sfg_example_scart_products where `id`=''.$value[''id'']);\n	$price = floatval($database-&gt;loadResult());\n	echo ''&lt;div style="height:20px; border-bottom:1px dotted #888888; padding:1px 5px 1px 5px;"&gt;'';\n	echo ''&lt;div style="float:left; width:200px; line-height:20px;"&gt;&lt;b&gt;''.$title.''&lt;/b&gt;&lt;/div&gt;'';\n	echo ''&lt;div style="float:left; width:50px;"&gt;&lt;input type="text" value="''.$value[''qty''].''" style="width:30px; height:14px;" name="prod[''.$key.'']" /&gt;&lt;/div&gt;'';\n	echo ''&lt;div style="float:left; width:100px; line-height:20px;"&gt;&lt;b&gt;$''.($price*$value[''qty'']).''&lt;/b&gt;&lt;/div&gt;'';\n	echo ''&lt;div style="float:left; width:70px; line-height:20px;"&gt;&lt;b style="color:red; cursor:pointer" onclick="document.getElementById(\\''scart_id\\'').value=\\''''.$key.''\\''; document.getElementById(\\''scart_task\\'').value=\\''rem_product\\''; document.sfgForm.submit();"&gt;remove&lt;/b&gt;&lt;/div&gt;'';\n	echo ''&lt;/div&gt;'';\n	$sum += $price*$value[''qty''];\n}\necho ''&lt;div style="height:20px; border-bottom:1px dotted #888888; padding:1px 5px 1px 5px;"&gt;'';\necho ''&lt;div style="float:left; width:200px; line-height:20px;"&gt;&amp;nbsp;&lt;/div&gt;'';\necho ''&lt;div style="float:left; width:50px; line-height:20px;"&gt;&lt;b style="color:blue;"&gt;Total:&lt;/b&gt;&lt;/div&gt;'';\necho ''&lt;div style="float:left; width:100px; line-height:20px;"&gt;&lt;b style="color:blue;"&gt;$''.$sum.''&lt;/b&gt;&lt;/div&gt;'';\necho ''&lt;/div&gt;'';\n\necho ''&lt;input type="button" value="Re-calculate" onclick="document.getElementById(\\''scart_task\\'').value=\\''recalculate\\''; document.sfgForm.submit();" /&gt;'';\necho ''&lt;input type="button" value="Check out" onclick="document.getElementById(\\''scart_task\\'').value=\\''buy_now\\''; document.sfgForm.submit();" /&gt;'';\n    </contentphp>\n    <style name="left" value="193px" />\n    <style name="top" value="35px" />\n    <style name="width" value="525px" />\n    <style name="height" value="404px" />\n    <style name="border-width" value="2px" />\n    <style name="border-color" value="#000000" />\n    <style name="border-style" value="solid" />\n    <style name="color" value="" />\n    <style name="background-color" value="#ffffff" />\n    <style name="text-align" value="" />\n  </element>\n  <element sfgalias="" tag="div" page="3">\n    <contentphp>\n      if (!isset($_SESSION[''scart''])) $_SESSION[''scart''] = array();\necho ''&lt;img src="''.$GLOBALS[''mosConfig_live_site''].''/components/com_sfg/images/scart/scart.png" style="float:right" /&gt;'';\nif (count($_SESSION[''scart''])==0) {\n	echo ''&lt;div style="float:right; margin:5px;"&gt;No products in your shopping cart&lt;/div&gt;'';\n} else {\n	echo ''&lt;div style="float:right; margin:5px; cursor:pointer" onclick="document.getElementById(\\''scart_task\\'').value=\\''show_scart\\''; document.sfgForm.submit();"&gt;''.count($_SESSION[''scart'']).'' product(s)&lt;/div&gt;'';\n}\n    </contentphp>\n    <style name="left" value="193px" />\n    <style name="top" value="10px" />\n    <style name="width" value="526px" />\n    <style name="height" value="20px" />\n    <style name="text-align" value="right" />\n    <style name="border-width" value="" />\n    <style name="border-color" value="" />\n    <style name="border-style" value="" />\n  </element>\n  <element sfgalias="" tag="span" page="3">\n    <content>\n      SmartFormer Gold Example\n    </content>\n    <style name="left" value="10px" />\n    <style name="top" value="12px" />\n    <style name="font-size" value="14px" />\n    <style name="font-style" value="italic" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="div" page="4">\n    <content>\n      &lt;center class="category_title"&gt;Categories:&lt;/center&gt;\n    </content>\n    <contentphp>\n      $database=JFactory::getDBO();\n$database-&gt;setQuery(''select * from #__sfg_example_scart_categories'');\n$rows = $database-&gt;loadAssocList();\nforeach ($rows as $value) echo ''&lt;div class="category" onclick="document.getElementById(\\''scart_id\\'').value=\\''''.$value[''id''].''\\''; document.getElementById(\\''scart_task\\'').value=\\''show_category\\''; document.sfgForm.submit();"&gt;&lt;b&gt;''.$value[''title''].''&lt;/b&gt;&lt;/div&gt;'';\n    </contentphp>\n    <style name="left" value="10px" />\n    <style name="top" value="35px" />\n    <style name="width" value="175px" />\n    <style name="height" value="404px" />\n    <style name="border-width" value="2px" />\n    <style name="border-color" value="#000000" />\n    <style name="border-style" value="solid" />\n    <style name="color" value="" />\n    <style name="background-color" value="#eeffff" />\n    <style name="text-align" value="" />\n  </element>\n  <element sfgalias="" tag="div" page="4">\n    <content>\n      &lt;center class="category_title"&gt;Personal and Delivery Information&lt;/center&gt;\n    </content>\n    <style name="left" value="193px" />\n    <style name="top" value="35px" />\n    <style name="width" value="525px" />\n    <style name="height" value="404px" />\n    <style name="border-width" value="2px" />\n    <style name="border-color" value="#000000" />\n    <style name="border-style" value="solid" />\n    <style name="color" value="" />\n    <style name="background-color" value="#ffffff" />\n    <style name="text-align" value="" />\n  </element>\n  <element sfgalias="" tag="div" page="4">\n    <contentphp>\n      if (!isset($_SESSION[''scart''])) $_SESSION[''scart''] = array();\necho ''&lt;img src="''.$GLOBALS[''mosConfig_live_site''].''/components/com_sfg/images/scart/scart.png" style="float:right" /&gt;'';\nif (count($_SESSION[''scart''])==0) {\n	echo ''&lt;div style="float:right; margin:5px;"&gt;No products in your shopping cart&lt;/div&gt;'';\n} else {\n	echo ''&lt;div style="float:right; margin:5px; cursor:pointer" onclick="document.getElementById(\\''scart_task\\'').value=\\''show_scart\\''; document.sfgForm.submit();"&gt;''.count($_SESSION[''scart'']).'' product(s)&lt;/div&gt;'';\n}\n    </contentphp>\n    <style name="left" value="193px" />\n    <style name="top" value="10px" />\n    <style name="width" value="526px" />\n    <style name="height" value="20px" />\n    <style name="text-align" value="right" />\n    <style name="border-width" value="" />\n    <style name="border-color" value="" />\n    <style name="border-style" value="" />\n  </element>\n  <element sfgalias="" tag="span" page="4">\n    <content>\n      SmartFormer Gold Example\n    </content>\n    <style name="left" value="10px" />\n    <style name="top" value="12px" />\n    <style name="font-size" value="14px" />\n    <style name="font-style" value="italic" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="span" page="4">\n    <content>\n      Name:&lt;span style="color:red"&gt;*&lt;/span&gt;\n    </content>\n    <style name="left" value="213px" />\n    <style name="top" value="75px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Name" tag="input" page="4">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="name" />\n    <style name="width" value="180px" />\n    <style name="height" value="16px" />\n    <style name="left" value="340px" />\n    <style name="top" value="72px" />\n    <param name="required" value="true" />\n  </element>\n  <element sfgalias="" tag="span" page="4">\n    <content>\n      Email:&lt;span style="color:red"&gt;*&lt;/span&gt;\n    </content>\n    <style name="left" value="213px" />\n    <style name="top" value="101px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Email" tag="input" page="4">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="email" />\n    <style name="width" value="180px" />\n    <style name="height" value="16px" />\n    <style name="left" value="340px" />\n    <style name="top" value="98px" />\n    <param name="required" value="true" />\n    <param name="validation" value="Email" />\n  </element>\n  <element sfgalias="" tag="span" page="4">\n    <content>\n      Date of delivery:&lt;span style="color:red"&gt;*&lt;/span&gt;\n    </content>\n    <style name="left" value="213px" />\n    <style name="top" value="127px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Delivery Date" tag="input" page="4">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="date_field" />\n    <style name="width" value="100px" />\n    <style name="height" value="16px" />\n    <style name="left" value="340px" />\n    <style name="top" value="125px" />\n    <param name="required" value="true" />\n    <param name="validation" value="Date" />\n  </element>\n  <element sfgalias="" tag="img" page="4">\n    <attribute name="src" value="{live_site}/administrator/components/com_sfg/js/images/icon-date.gif" />\n    <attribute name="alt" value="date selector" />\n    <style name="left" value="450px" />\n    <style name="top" value="126px" />\n    <style name="width" value="16px" />\n    <style name="height" value="16px" />\n    <style name="cursor" value="pointer" />\n    <param name="on-click-action" value="2" />\n    <param name="date-input-field" value="date_field" />\n    <param name="date-format" value="mm/dd/y" />\n  </element>\n  <element sfgalias="" tag="span" page="4">\n    <content>\n      Country:&lt;span style="color:red"&gt;*&lt;/span&gt;\n    </content>\n    <style name="left" value="213px" />\n    <style name="top" value="153px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Country" tag="select" page="4">\n    <content>\n      United States\nAfghanistan\nAlbania\nAlgeria\nAmerican Samoa\nAndorra\nAngola\nAnguilla\nAntarctica\nAntigua and Barbuda\nArgentina\nArmenia\nAruba\nAustralia\nAustria\nAzerbaijan\nBahamas\nBahrain\nBangladesh\nBarbados\nBelarus\nBelgium\nBelize\nBenin\nBermuda\nBhutan\nBolivia\nBosnia and Herzegovina\nBotswana\nBrazil\nBrunei\nBulgaria\nBurkina Faso\nBurundi\nCambodia\nCameroon\nCanada\nCape Verde\nCayman Islands\nCentral African Republic\nChad\nChile\nChina\nColombia\nComoros\nCongo\nCook Islands\nCosta Rica\nCote D`ivoire Ivory Coast\nCroatia Hrvatska\nCuba\nCyprus\nCzech Republic\nDenmark\nDjibouti\nDominica\nDominican Republic\nEast Timor\nEcuador\nEgypt\nEl Salvador\nEquatorial Guinea\nEritrea\nEstonia\nEthiopia\nFaroe Islands\nFiji Islands\nFinland\nFrance\nFrench Guiana\nFrench Polynesia\nFrench Southern Territories\nGabon\nGambia, The\nGeorgia\nGermany\nGhana\nGibraltar\nGreece\nGreenland\nGrenada\nGuadeloupe\nGuam\nGuatemala\nGuinea\nGuinea-Bissau\nGuyana\nHaiti\nHonduras\nHungary\nIceland\nIndia\nIndonesia\nIran\nIraq\nIreland\nIsrael\nItaly\nJamaica\nJapan\nJordan\nKazakhstan\nKenya\nKiribati\nKorea\nKorea, North\nKuwait\nKyrgyzstan\nLaos\nLatvia\nLebanon\nLesotho\nLiberia\nLibya\nLiechtenstein\nLithuania\nLuxembourg\nMacedonia\nMadagascar\nMalawi\nMalaysia\nMaldives\nMali\nMalta\nMarshall Islands\nMartinique\nMauritania\nMauritius\nMexico\nMicronesia\nMoldova\nMonaco\nMongolia\nMontserrat\nMorocco\nMozambique\nNamibia\nNauru\nNepal\nNetherlands Antilles\nNetherlands, The\nNew Caledonia\nNew Zealand\nNicaragua\nNiger\nNigeria\nNiue\nNorfolk Island\nNorthern Mariana Islands\nNorway\nOman\nPakistan\nPalau\nPanama\nPapua New Guinea\nParaguay\nPeru\nPhilippines\nPitcairn Island\nPoland\nPortugal\nPuerto Rico\nQatar\nReunion\nRomania\nRussia\nRwanda\nSaint Helena\nSaint Kitts and Nevis\nSaint Lucia\nSaint Pierre and Miquelon\nSamoa\nSan Marino\nSao Tome and Principe\nSaudi Arabia\nSenegal\nSeychelles\nSierra Leone\nSingapore\nSlovakia\nSlovenia\nSolomon Islands\nSomalia\nSouth Africa\nSpain\nSri Lanka\nSudan\nSuriname\nSwaziland\nSweden\nSwitzerland\nSyria\nTaiwan\nTajikistan\nTanzania\nThailand\nTogo\nTokelau\nTonga\nTrinidad and Tobago\nTunisia\nTurkey\nTurkmenistan\nTurks and Caicos Islands\nTuvalu\nUganda\nUkraine\nUnited Arab Emirates\nUnited Kingdom\nUruguay\nUzbekistan\nVanuatu\nVenezuela\nVietnam\nVirgin Islands British\nVirgin Islands US\nWallis and Futuna Islands\nYemen\nYugoslavia\nZambia\nZimbabwe\n    </content>\n    <attribute name="name" value="country" />\n    <style name="width" value="180px" />\n    <style name="height" value="21px" />\n    <style name="left" value="340px" />\n    <style name="top" value="150px" />\n    <event name="onchange" value="countrySelected(this)" />\n  </element>\n  <element sfgalias="" tag="span" page="4">\n    <content>\n      State:\n    </content>\n    <attribute name="id" value="state_span" />\n    <style name="left" value="213px" />\n    <style name="top" value="181px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="State" tag="select" page="4">\n    <content>\n      |-- please select --\nAlabama\nAlaska\nAmerican Samoa\nArizona\nArkansas\nCalifornia\nColorado\nConnecticut\nDelaware\nDistrict of Columbia\nFlorida\nGeorgia\nGuam\nHawaii\nIdaho\nIllinois\nIndiana\nIowa\nKansas\nKentucky\nLouisiana\nMaine\nMaryland\nMassachusetts\nMichigan\nMinnesota\nMississippi\nMissouri\nMontana\nNebraska\nNevada\nNew Hampshire\nNew Jersey\nNew Mexico\nNew York\nNorth Carolina\nNorth Dakota\nNorthern Marianas Islands\nOhio\nOklahoma\nOregon\nPennsylvania\nPuerto Rico\nRhode Island\nSouth Carolina\nSouth Dakota\nTennessee\nTexas\nUtah\nVermont\nVirginia\nVirgin Islands\nWashington\nWest Virginia\nWisconsin\nWyoming\n    </content>\n    <attribute name="name" value="state" />\n    <style name="width" value="180px" />\n    <style name="height" value="21px" />\n    <style name="left" value="340px" />\n    <style name="top" value="177px" />\n  </element>\n  <element sfgalias="" tag="span" page="4">\n    <content>\n      Zip/Postal Code:&lt;span style="color:red"&gt;*&lt;/span&gt;\n    </content>\n    <style name="left" value="213px" />\n    <style name="top" value="208px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Zip-Postal Code" tag="input" page="4">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="zip" />\n    <style name="width" value="180px" />\n    <style name="height" value="16px" />\n    <style name="left" value="340px" />\n    <style name="top" value="205px" />\n    <param name="required" value="true" />\n    <param name="validation" value="Zip" />\n  </element>\n  <element sfgalias="" tag="span" page="4">\n    <content>\n      City:&lt;span style="color:red"&gt;*&lt;/span&gt;\n    </content>\n    <style name="left" value="214px" />\n    <style name="top" value="236px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="City" tag="input" page="4">\n    <attribute name="type" value="text" />\n    <attribute name="name" value="city" />\n    <style name="width" value="180px" />\n    <style name="height" value="16px" />\n    <style name="left" value="340px" />\n    <style name="top" value="233px" />\n    <param name="required" value="true" />\n  </element>\n  <element sfgalias="" tag="span" page="4">\n    <content>\n      Additional comments&lt;br /&gt;\nto the order:\n    </content>\n    <style name="left" value="213px" />\n    <style name="top" value="290px" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="Comments" tag="textarea" page="4">\n    <attribute name="rows" value="5" />\n    <attribute name="cols" value="30" />\n    <attribute name="name" value="comments" />\n    <style name="width" value="180px" />\n    <style name="height" value="80px" />\n    <style name="left" value="340px" />\n    <style name="top" value="258px" />\n  </element>\n  <element sfgalias="" tag="input" page="4">\n    <attribute name="type" value="button" />\n    <attribute name="value" value="Submit Order" />\n    <style name="width" value="100px" />\n    <style name="left" value="421px" />\n    <style name="top" value="354px" />\n    <event name="onmousedown" value="document.getElementById(''scart_task'').value=''submit_order'';" />\n    <param name="on-click-action" value="1" />\n    <param name="save-data" value="true" />\n  </element>\n  <element sfgalias="" tag="div" page="5">\n    <content>\n      &lt;center class="category_title"&gt;Categories:&lt;/center&gt;\n    </content>\n    <contentphp>\n      $database=JFactory::getDBO();\n$database-&gt;setQuery(''select * from #__sfg_example_scart_categories'');\n$rows = $database-&gt;loadAssocList();\nforeach ($rows as $value) echo ''&lt;div class="category" onclick="document.getElementById(\\''scart_id\\'').value=\\''''.$value[''id''].''\\''; document.getElementById(\\''scart_task\\'').value=\\''show_category\\''; document.sfgForm.submit();"&gt;&lt;b&gt;''.$value[''title''].''&lt;/b&gt;&lt;/div&gt;'';\n    </contentphp>\n    <style name="left" value="10px" />\n    <style name="top" value="35px" />\n    <style name="width" value="175px" />\n    <style name="height" value="404px" />\n    <style name="border-width" value="2px" />\n    <style name="border-color" value="#000000" />\n    <style name="border-style" value="solid" />\n    <style name="color" value="" />\n    <style name="background-color" value="#eeffff" />\n    <style name="text-align" value="" />\n  </element>\n  <element sfgalias="" tag="div" page="5">\n    <content>\n      &amp;nbsp;\n    </content>\n    <style name="left" value="193px" />\n    <style name="top" value="35px" />\n    <style name="width" value="525px" />\n    <style name="height" value="404px" />\n    <style name="border-width" value="2px" />\n    <style name="border-color" value="#000000" />\n    <style name="border-style" value="solid" />\n    <style name="color" value="" />\n    <style name="background-color" value="#ffffff" />\n    <style name="text-align" value="" />\n  </element>\n  <element sfgalias="" tag="div" page="5">\n    <contentphp>\n      if (!isset($_SESSION[''scart''])) $_SESSION[''scart''] = array();\necho ''&lt;img src="''.$GLOBALS[''mosConfig_live_site''].''/components/com_sfg/images/scart/scart.png" style="float:right" /&gt;'';\nif (count($_SESSION[''scart''])==0) {\n	echo ''&lt;div style="float:right; margin:5px;"&gt;No products in your shopping cart&lt;/div&gt;'';\n} else {\n	echo ''&lt;div style="float:right; margin:5px; cursor:pointer" onclick="document.getElementById(\\''scart_task\\'').value=\\''show_scart\\''; document.sfgForm.submit();"&gt;''.count($_SESSION[''scart'']).'' product(s)&lt;/div&gt;'';\n}\n    </contentphp>\n    <style name="left" value="193px" />\n    <style name="top" value="10px" />\n    <style name="width" value="526px" />\n    <style name="height" value="20px" />\n    <style name="text-align" value="right" />\n    <style name="border-width" value="" />\n    <style name="border-color" value="" />\n    <style name="border-style" value="" />\n  </element>\n  <element sfgalias="" tag="span" page="5">\n    <content>\n      SmartFormer Gold Example\n    </content>\n    <style name="left" value="10px" />\n    <style name="top" value="12px" />\n    <style name="font-size" value="14px" />\n    <style name="font-style" value="italic" />\n    <style name="font-weight" value="bold" />\n  </element>\n  <element sfgalias="" tag="span" page="5">\n    <content>\n      &lt;b&gt;Thank you for your order!&lt;/b&gt;\n    </content>\n    <style name="left" value="227px" />\n    <style name="top" value="55px" />\n    <style name="width" value="216px" />\n    <style name="font-size" value="16px" />\n  </element>\n  <element sfgalias="" tag="span" page="5">\n    <content>\n      Please keep your order number:\n    </content>\n    <contentphp>\n      $database=JFactory::getDBO();\n$database-&gt;setQuery(''select `order_id` from #__sfg_example_scart order by `id` desc limit 1'');\necho '' ''.$database-&gt;loadResult();\n    </contentphp>\n    <style name="left" value="227px" />\n    <style name="top" value="89px" />\n    <style name="font-weight" value="bold" />\n    <style name="width" value="392px" />\n  </element>\n  <element sfgalias="" tag="input" page="5">\n    <attribute name="type" value="button" />\n    <attribute name="value" value="Pay via 2Checkout" />\n    <style name="width" value="127px" />\n    <style name="left" value="226px" />\n    <style name="top" value="112px" />\n    <event name="onclick" value="document.getElementById(''scart_task'').value=''pay_2co''; document.sfgForm.submit();" />\n    <param name="on-click-action" value="0" />\n  </element>\n  <email_template name="email to user" from_name="admin of website" from_email="admin@website.com" subject="Your details on website.com" cc="" bcc="" id="1" format="1">\n    &lt;p&gt;Dear user! &lt;br /&gt;Thank you for using our services on mysite.com. &lt;br /&gt;Your details are the following:&lt;/p&gt;\n&lt;p&gt;\n&lt;table border="0"&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;strong&gt;Field name&lt;/strong&gt;&lt;/td&gt;\n&lt;td&gt;&lt;strong&gt;Data&lt;/strong&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 1&lt;/td&gt;\n&lt;td&gt;Here you should insert dynamic variable&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 2&lt;br /&gt;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 3&lt;br /&gt;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;br /&gt;&lt;em&gt;P.S. Please do not answer on this e-mail. It has been generated automatically. &lt;/em&gt;&lt;/p&gt;\n  </email_template>\n  <email_template name="email to admin" from_name="admin of website" from_email="admin@website.com" subject="New user details" cc="" bcc="" id="2" format="1">\n    &lt;p&gt;Dear admin!&lt;br /&gt; New user has left his details on mysite.som &lt;br /&gt;The details are the folowing: :&lt;/p&gt;\n&lt;p&gt;\n&lt;table border="0"&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;strong&gt;Field name&lt;/strong&gt;&lt;/td&gt;\n&lt;td&gt;&lt;strong&gt;Data&lt;/strong&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 1&lt;/td&gt;\n&lt;td&gt;Here you should insert dynamic variable&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 2&lt;br /&gt;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Field 3&lt;br /&gt;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;td&gt;&amp;nbsp;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/p&gt;\n  </email_template>\n  <email_template name="your custom email" from_name="From Name" from_email="from@email.com" subject="Custom email subject" cc="" bcc="" id="3" format="1">\n    &lt;p&gt;Fill in your custom email. You can create as meny templates as you wish. Click ''New Document'' icon to start&lt;/p&gt;\n  </email_template>\n  <validator name="Required">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Field is required'';\nmsg = msg.replace(''%s'', sfgName); \nif (obj.type &amp;&amp; (obj.type.toLowerCase()==''checkbox'' || obj.type.toLowerCase()==''radio'') &amp;&amp; !obj.checked) return msg; \nif (obj.tagName.toLowerCase()==''select'' &amp;&amp; (obj.selectedIndex==-1 || obj.selectedIndex==0)) return msg; \nif (obj.value=='''') return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Field is required'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (!isset($form-&gt;data[$htmlName]) || !is_array($form-&gt;data[$htmlName]) &amp;&amp; trim($form-&gt;data[$htmlName])=='''') return $msg;\nif (is_array($form-&gt;data[$htmlName]) &amp;&amp; trim(implode('''',$form-&gt;data[$htmlName]))=='''') return $msg;\n    </php>\n  </validator>\n  <validator name="Group Required">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Group: %s. Please select a value'';\nmsg = msg.replace(''%s'', sfgName); \nvar objs = document.getElementsByName(obj.name); \nvar checked = false; \nfor (i=0; i&lt;objs.length; i++) if (objs[i].checked) { checked = true; break; } \nif (!checked) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Group: ''.$obj[''sfgalias''].''. Please select a value'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (!isset($form-&gt;data[$htmlName]) || !is_array($form-&gt;data[$htmlName]) &amp;&amp; trim($form-&gt;data[$htmlName])=='''') return $msg;\nif (is_array($form-&gt;data[$htmlName]) &amp;&amp; trim(implode('''',$form-&gt;data[$htmlName]))=='''') return $msg;\n    </php>\n  </validator>\n  <validator name="Check identical">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object, obj2 - another HTML element for comparing\nvar msg = ''Field: %s. Entities are not identival'';\nmsg = msg.replace(''%s'', sfgName);\nvar el2 = document.getElementsByName(obj2)[0];\nif (el2 &amp;&amp; obj.value != el2.value) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation, $obj - another element\n$msg = ''Field: ''.$obj[''sfgalias''].''. Entities are not identival'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$htmlName2 = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $obj2);\n$htmlName2 = strtolower($htmlName2);\nif ($form-&gt;data[$htmlName]!=$form-&gt;data[$htmlName2]) return $msg;\n    </php>\n  </validator>\n  <validator name="Email">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid email. Please specify a valid value'';\nmsg = msg.replace(''%s'', sfgName);\nvar RegExp=/^((([a-z]|[0-9]|!|#|$|%|&amp;|''|\\*|\\+|\\-|\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+(\\.([a-z]|[0-9]|!|#|$|%|&amp;|''|\\*|\\+|\\-|\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+)*)@((((([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.))*([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.)[\\w]{2,4}|(((([0-9]){1,3}\\.){3}([0-9]){1,3}))|(\\[((([0-9]){1,3}\\.){3}([0-9]){1,3})\\])))$/;\nif (obj.value!='''' &amp;&amp; !RegExp.test(obj.value.toLowerCase())) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid email. Please specify a valid value'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$RegExp="/^((([a-z]|[0-9]|!|#|$|%|&amp;|''|\\*|\\+|\\-|\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+(\\.([a-z]|[0-9]|!|#|$|%|&amp;|''|\\*|\\+|\\-|\\/|=|\\?|\\^|_|`|\\{|\\||\\}|~)+)*)@((((([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.))*([a-z]|[0-9])([a-z]|[0-9]|\\-){0,61}([a-z]|[0-9])\\.)[\\w]{2,4}|(((([0-9]){1,3}\\.){3}([0-9]){1,3}))|(\\[((([0-9]){1,3}\\.){3}([0-9]){1,3})\\])))$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($RegExp, strtolower($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="Zip">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct zip/postal'';\nmsg = msg.replace(''%s'', sfgName);\nvar letters=''qwertyuiopasdfghjklzxcvbnm -1234567890'';\nvar ps=false;\nfor(i=0;i&lt;obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))&lt;0) ps=true;\nif (ps || obj.value.length&gt;10) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct zip/postal'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$letters = ''qwertyuiopasdfghjklzxcvbnm -1234567890'';\nif (isset($form-&gt;data[$htmlName])) $value = strtolower($form-&gt;data[$htmlName]); else $value='''';\nfor($i=0; $i&lt;strlen($value); $i++) if (strpos($letters, substr($value, $i, 1))===false) return $msg;\n    </php>\n  </validator>\n  <validator name="ZipUS">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid US Zip. Please specify a valid value'';\nmsg = msg.replace(''%s'', sfgName);\nvar zipPattern1=/^(\\d{5})$/;\nvar zipPattern2=/^(\\d{5})\\-(\\d{4})$/;\nif ((obj.value.match(zipPattern1)==null)&amp;&amp;(obj.value.match(zipPattern2)==null)&amp;&amp;obj.value.length&gt;0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid US Zip. Please specify a valid value'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$zipPattern1="/^(\\d{5})$/";\n$zipPattern2="/^(\\d{5})\\-(\\d{4})$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($zipPattern1, $form-&gt;data[$htmlName]) &amp;&amp; !preg_match($zipPattern2, $form-&gt;data[$htmlName])) return $msg;\n    </php>\n  </validator>\n  <validator name="Phone">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct phone number'';\nmsg = msg.replace(''%s'', sfgName);\nvar letters=''1234567890 -.()+'';\nvar ps=false;\nfor(i=0;i&lt;obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))&lt;0) ps=true;\nif (ps || obj.value.length&gt;10) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct phone number'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$letters = ''1234567890 -.()+'';\nif (isset($form-&gt;data[$htmlName])) $value = strtolower($form-&gt;data[$htmlName]); else $value='''';\nfor($i=0; $i&lt;strlen($value); $i++) if (strpos($letters, substr($value, $i, 1))===false) return $msg;\n    </php>\n  </validator>\n  <validator name="PhoneUS">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Please, provide a phone number in format XXX-XXX-XXXX, where X is a digit.'';\nmsg = msg.replace(''%s'', sfgName);\nvar phonePattern=/^(\\d{3})\\-(\\d{3})\\-(\\d{4})$/;\nif ((obj.value.match(phonePattern)==null)&amp;&amp;obj.value.length&gt;0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Please, provide a phone number in format XXX-XXX-XXXX, where X is a digit.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$phonePattern="/^(\\d{3})\\-(\\d{3})\\-(\\d{4})$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($phonePattern, strtolower($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="Password">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. The password should contain 6 to 12 symbols'';\nmsg = msg.replace(''%s'', sfgName);\nif ((obj.value.length&lt;6 || obj.value.length&gt;12) &amp;&amp; obj.value.length!=0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. The password should contain 6 to 12 symbols'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (strlen($form-&gt;data[$htmlName])&lt;6 || strlen($form-&gt;data[$htmlName])&gt;12)) return $msg;\n    </php>\n  </validator>\n  <validator name="CreditCardNumber">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct credit card number'';\nmsg = msg.replace(''%s'', sfgName);\nvar ccPattern=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$/;\nif ((obj.value.match(ccPattern)==null)&amp;&amp;obj.value.length&gt;0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct credit card number'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$ccPattern="/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($ccPattern, strtolower($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="CreditCardCVV">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct credit card CVV'';\nmsg = msg.replace(''%s'', sfgName);\nvar letters=''1234567890'';\nvar ps=false;\nfor(i=0;i&lt;obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))&lt;0) ps=true;\nif (ps || (obj.value.length&lt;3 &amp;&amp; obj.value.length!=0) || obj.value.length&gt;4) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct credit card CVV'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (strlen($form-&gt;data[$htmlName])&lt;3 || strlen($form-&gt;data[$htmlName])&gt;4 || !is_numeric($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="Money">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify currency correctly'';\nmsg = msg.replace(''%s'', sfgName);\nvar letters=''1234567890.'';\nvar ps=false; for(i=0;i&lt;obj.value.length;i++) if (letters.indexOf(obj.value.toLowerCase().substr(i,1))&lt;0) ps=true;\nif (ps || obj.value.length&gt;10 || Math.floor(obj.value*100)/100!=obj.value-0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify currency correctly'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (floor(floatval($form-&gt;data[$htmlName])*100)/100!=floatval($form-&gt;data[$htmlName]) || !is_numeric($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="URL">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a valid URL'';\nmsg = msg.replace(''%s'', sfgName);\nvar RegExp=/^(([\\w]+:)?\\/\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&amp;?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?$/;\nif (obj.value!='''' &amp;&amp; !RegExp.test(obj.value)) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a valid URL'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$RegExp="/^(([\\w]+:)?\\/\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&amp;?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($RegExp, strtolower($form-&gt;data[$htmlName]))) return $msg;\n    </php>\n  </validator>\n  <validator name="IP">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Please specify a correct IP'';\nmsg = msg.replace(''%s'', sfgName);\nvar RegExp=/^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/;\nvar a=obj.value.split(''.'');\nif (obj.value!='''' &amp;&amp; !RegExp.test(obj.value) || a[0]&gt;255 || a[1]&gt;255 || a[2]&gt;255 || a[3]&gt;255) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Please specify a correct IP'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$RegExp="/^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/";\nif (isset($form-&gt;data[$htmlName])) $parts = explode(''.'', $form-&gt;data[$htmlName]); else $parts = array(999,999,999,999);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (!preg_match($RegExp, $form-&gt;data[$htmlName]) || intval($parts[0])&gt;255 || intval($parts[1])&gt;255 || intval($parts[2])&gt;255 || intval($parts[3])&gt;255)) return $msg;\n    </php>\n  </validator>\n  <validator name="SSN">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Please, provide a SSN in format XXX-XX-XXXX or XX-XXXXXXX, where X is a digit.'';\nmsg = msg.replace(''%s'', sfgName);\nvar ssnPattern1 = /^(\\d{3})\\-(\\d{2})\\-(\\d{4})$/;\nvar ssnPattern2 = /^(\\d{2})\\-(\\d{7})$/;\nif ((obj.value.match(ssnPattern1)==null)&amp;&amp;(obj.value.match(ssnPattern2)==null)&amp;&amp;obj.value.length&gt;0) return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Please, provide a SSN in format XXX-XX-XXXX or XX-XXXXXXX, where X is a digit.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\n$ssnPattern1="/^(\\d{3})\\-(\\d{2})\\-(\\d{4})$/";\n$ssnPattern2="/^(\\d{2})\\-(\\d{7})$/";\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; !preg_match($ssnPattern1, $form-&gt;data[$htmlName]) &amp;&amp; !preg_match($ssnPattern2, $form-&gt;data[$htmlName])) return $msg;\n    </php>\n  </validator>\n  <validator name="Date">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Field value should be in MM/DD/YYYY format.'';\nmsg = msg.replace(''%s'', sfgName);\nvar a=obj.value.split(''/'');\nif (a[0]-0&gt;0 &amp;&amp; a[0]-0&lt;=12 &amp;&amp; a[1]-0&gt;0 &amp;&amp; a[1]-0&lt;=31 &amp;&amp; a[2]-0&gt;1000 &amp;&amp; a[2]-0&lt;=9999 &amp;&amp; a[3]==null ||obj.value.length==0) return null; else return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Field value should be in MM/DD/YYYY format.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName])) $parts=explode(''/'', $form-&gt;data[$htmlName]); else $parts=array(0,0,0);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (count($parts)!=3 || !checkdate(intval($parts[0]), intval($parts[1]), intval($parts[2])))) return $msg;\n    </php>\n  </validator>\n  <validator name="DateShort">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Field value should be in MM/DD/YY format'';\nmsg = msg.replace(''%s'', sfgName);\nvar a=obj.value.split(''/'');\nif (a[0]-0&gt;0 &amp;&amp; a[0]-0&lt;=12 &amp;&amp; a[1]-0&gt;0 &amp;&amp; a[1]-0&lt;=31 &amp;&amp; a[2]-0&gt;=0 &amp;&amp; a[2]-0&lt;=99 &amp;&amp; a[3]==null ||obj.value.length==0) return null; else return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Field value should be in MM/DD/YY format.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName])) $parts=explode(''/'', $form-&gt;data[$htmlName]); else $parts=array(0,0,0);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (count($parts)!=3 || !is_numeric($parts[2]) || !checkdate(intval($parts[0]), intval($parts[1]), intval($parts[2])+2000))) return $msg;\n    </php>\n  </validator>\n  <validator name="Time">\n    <js>\n      // incoming variables: obj - HTML element firing the event, sfgName - system name of the object \nvar msg = ''Field: %s. Invalid value! Field value should be in HH:MM format.'';\nmsg = msg.replace(''%s'', sfgName);\nvar a=obj.value.split('':'');\nif (a[0]-0&gt;=0 &amp;&amp; a[0]-0&lt;24 &amp;&amp; a[1]-0&gt;=0 &amp;&amp; a[1]-0&lt;60 &amp;&amp; a[2]==null ||obj.value.length==0) return null; else return msg;\n    </js>\n    <php>\n      // incoming variables: $form - the form object, $obj - structured object of element firing the validation\n$msg = ''Field: ''.$obj[''sfgalias''].''. Invalid value! Field value should be in HH:MM format.'';\n$htmlName = str_replace(array(''['', '']'', '' ''), array('''','''',''''), $form-&gt;getProp($obj[''attributes''], ''name''));\n$htmlName = strtolower($htmlName);\nif (isset($form-&gt;data[$htmlName])) $parts=explode('':'', $form-&gt;data[$htmlName]); else $parts=array(99,99);\nif (isset($form-&gt;data[$htmlName]) &amp;&amp; $form-&gt;data[$htmlName]!='''' &amp;&amp; !is_array($form-&gt;data[$htmlName]) &amp;&amp; (count($parts)!=2 || !is_numeric($parts[0]) || !is_numeric($parts[1]) || intval($parts[0])&lt;0 || intval($parts[0])&gt;23 || intval($parts[1])&lt;0 || intval($parts[1])&gt;59)) return $msg;\n    </php>\n  </validator>\n</form>\n',`params` = '';
